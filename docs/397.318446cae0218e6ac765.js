"use strict";(self.webpackChunktimer=self.webpackChunktimer||[]).push([[397],{9397:($,g,r)=>{r.r(g),r.d(g,{GerencialModule:()=>G});var u=r(8583),m=r(4655),S=r(3639),p=r(4782),C=r(6468),l=r(3430),d=r(7117),t=r(7716),v=r(7006),f=r(1209),P=r(1843),Z=r(789),T=r(2522),b=r(3968),j=r(1095),A=r(1436),O=r(6627),c=r(3679),h=r(8295),B=r(7441),D=r(2458);function J(e,s){if(1&e&&(t.TgZ(0,"mat-option",6),t._uU(1),t.qZA()),2&e){const a=s.$implicit;t.Q6J("value",a.id),t.xp6(1),t.hij(" ",a.razao," ")}}function y(e,s){if(1&e&&(t.TgZ(0,"mat-option",6),t._uU(1),t.qZA()),2&e){const a=s.$implicit;t.Q6J("value",a.idx),t.xp6(1),t.hij(" ",a.descricao," ")}}let N=(()=>{class e{constructor(a,o,i,n){this.globalService=o,this.usuariosService=i,this.router=n,this.changeDiretor=new t.vpe,this.changeSituacao=new t.vpe,this.parametro=a.group({diretor:[{value:""}],situacao:[{value:""}]}),this.setParametro()}ngOnInit(){}onChangeDiretor(){this.changeDiretor.emit(this.parametro.value.diretor)}onChangeSituacao(){this.changeSituacao.emit(this.parametro.value.situacao)}setParametro(){this.parametro.setValue({diretor:0,situacao:-1})}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(c.qu),t.Y36(v.U),t.Y36(f.J),t.Y36(m.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["barra-parametrosv02"]],inputs:{diretores:"diretores",situacoes:"situacoes"},outputs:{changeDiretor:"changeDiretor",changeSituacao:"changeSituacao"},decls:12,vars:3,consts:[["autocomplete","off",3,"formGroup"],[1,"col-med-6"],["field","","appearance","outline",1,"col-max"],["formControlName","diretor",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","situacao",3,"selectionChange"],[3,"value"]],template:function(a,o){1&a&&(t.TgZ(0,"form",0),t.TgZ(1,"div",1),t.TgZ(2,"mat-form-field",2),t.TgZ(3,"mat-label"),t._uU(4,"Diretores"),t.qZA(),t.TgZ(5,"mat-select",3),t.NdJ("selectionChange",function(){return o.onChangeDiretor()}),t.YNc(6,J,2,2,"mat-option",4),t.qZA(),t.qZA(),t.TgZ(7,"mat-form-field",2),t.TgZ(8,"mat-label"),t._uU(9,"Situa\xe7\xf5es"),t.qZA(),t.TgZ(10,"mat-select",5),t.NdJ("selectionChange",function(){return o.onChangeSituacao()}),t.YNc(11,y,2,2,"mat-option",4),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&a&&(t.Q6J("formGroup",o.parametro),t.xp6(6),t.Q6J("ngForOf",o.diretores),t.xp6(5),t.Q6J("ngForOf",o.situacoes))},directives:[c._Y,c.JL,c.sg,h.KE,h.hX,B.gD,c.JJ,c.u,u.sg,D.ey],styles:[""]}),e})();var F=r(7775);function E(e,s){if(1&e&&(t.TgZ(0,"div"),t.TgZ(1,"mat-icon",7),t._uU(2,"arrow_back"),t.qZA(),t.TgZ(3,"mat-label",8),t._uU(4),t.qZA(),t.TgZ(5,"mat-label",8),t._uU(6),t.ALo(7,"situacaoProjeto"),t.qZA(),t.qZA()),2&e){const a=s.$implicit;t.xp6(1),t.Q6J("inline",!0),t.xp6(3),t.AsE("",a.descricao.trim(),"(",a.id,")"),t.xp6(2),t.Oqu(t.lcZ(7,4,a.status))}}const M=[{path:"",redirectTo:"visaoa",pathMatch:"full"},{path:"visaoa",component:(()=>{class e{constructor(a,o,i,n){this.globalService=a,this.usuariosService=o,this.projetosServices=i,this.appSnackBar=n,this.diretor=0,this.diretores=[],this.situacao="",this.situacoes=(0,d.js)(),this.projetos=[],this.controlePaginas=new l.e(50,1),this.tamPagina=50,this.getDiretores()}ngOnInit(){this.getProjetosContador(),this.getProjetos()}ngOnDestroy(){var a,o,i;null===(a=this.inscricaoDiretor)||void 0===a||a.unsubscribe(),null===(o=this.inscricaoProjetos)||void 0===o||o.unsubscribe(),null===(i=this.inscricaoProjetosCt)||void 0===i||i.unsubscribe()}onChangeDiretor(a){this.diretor=a,this.onAtualizar()}onChangeSituacao(a){this.situacao=a.toString(),this.onAtualizar()}onAtualizar(){this.getProjetosContador()}onChangePage(){this.getProjetos()}getDiretores(){const a=new C.w;a.id_empresa=this.globalService.id_empresa,a.grupo=this.usuariosService.getGruposDiretoria(),a.orderby="Raz\xe3o",this.globalService.setSpin(!0),this.inscricaoDiretor=this.usuariosService.getusuarios_01(a).subscribe(o=>{this.globalService.setSpin(!1),this.diretor=0;const i=new S.j;i.id=0,i.razao="TODOS",this.diretores.push(i),o.forEach(n=>{this.diretores.push(n)})},o=>{this.globalService.setSpin(!1),this.diretor=0,this.appSnackBar.openFailureSnackBar(`${o.error.tabela} - ${o.error.erro} - ${o.error.message}`,"OK")})}getProjetosContador(){let a=new p.m;a.id_empresa=1,"-1"!=this.situacao&&(a.status=this.situacao.toString()),a.id_diretor=this.diretor,a.orderby="",a.contador="S",this.globalService.setSpin(!0),this.inscricaoProjetosCt=this.projetosServices.getProjetos_01(a).subscribe(o=>{this.globalService.setSpin(!1),this.controlePaginas=new l.e(this.tamPagina,0==o.total?1:o.total),this.getProjetos()},o=>{this.globalService.setSpin(!1),"Nehuma Informa\xe7\xe3o Para Esta Consulta."==o.error.message?(this.controlePaginas=new l.e(this.tamPagina,0),this.appSnackBar.openSuccessSnackBar("Nenhuma Informa\xe7\xe3o Encontrada Para Esta Consulta!","OK")):(this.controlePaginas=new l.e(this.tamPagina,0),this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Projetos ${o.error.tabela} - ${o.error.erro} - ${o.error.message}`,"OK"))})}getProjetos(){let a=new p.m;a.id_empresa=1,"-1"!=this.situacao&&(a.status=this.situacao.toString()),a.id_diretor=this.diretor,a.orderby="Descri\xe7\xe3o",a.pagina=this.controlePaginas.getPaginalAtual(),this.globalService.setSpin(!0),this.inscricaoProjetos=this.projetosServices.getProjetos_01(a).subscribe(o=>{this.globalService.setSpin(!1),this.projetos=o},o=>{this.globalService.setSpin(!1),"Nehuma Informa\xe7\xe3o Para Esta Consulta."==o.error.message?(this.projetos=[],this.appSnackBar.openSuccessSnackBar("Nenhuma Informa\xe7\xe3o Encontrada Para Esta Consulta!","OK")):(this.projetos=[],this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Projetos ${(0,d.bZ)(o)}`,"OK"))})}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(v.U),t.Y36(f.J),t.Y36(P.T),t.Y36(Z.W))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-visaoa"]],decls:13,vars:4,consts:[[1,"div-barra"],[1,"example-spacer"],[3,"controle","changePage"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Atualizar","matTooltipPosition","above",1,"button",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon",1,"example-icon"],[3,"diretores","situacoes","changeDiretor","changeSituacao"],[4,"ngFor","ngForOf"],[1,"icon-display",3,"inline"],[1,"Linha_browse"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-toolbar"),t.TgZ(2,"span",1),t._uU(3,"CONTROLE DE CONTRATOS"),t.qZA(),t.TgZ(4,"app-navegator",2),t.NdJ("changePage",function(){return o.onChangePage()}),t.qZA(),t.TgZ(5,"button",3),t.NdJ("click",function(){return o.onAtualizar()}),t.TgZ(6,"mat-icon"),t._uU(7,"rotate_right"),t.qZA(),t.qZA(),t.TgZ(8,"button",4),t.TgZ(9,"mat-icon"),t._uU(10,"arrow_back"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"barra-parametrosv02",5),t.NdJ("changeDiretor",function(n){return o.onChangeDiretor(n)})("changeSituacao",function(n){return o.onChangeSituacao(n)}),t.qZA(),t.YNc(12,E,8,6,"div",6)),2&a&&(t.xp6(4),t.Q6J("controle",o.controlePaginas),t.xp6(7),t.Q6J("diretores",o.diretores)("situacoes",o.situacoes),t.xp6(1),t.Q6J("ngForOf",o.projetos))},directives:[T.Ye,b.J,j.lW,A.gM,O.Hw,N,u.sg,h.hX],pipes:[F.T],styles:[".Linha_browse[_ngcontent-%COMP%]{font-size:small;color:#000;margin-left:5px}.icon-small[_ngcontent-%COMP%]{color:red;width:10px;height:inherit}.icon-display[_ngcontent-%COMP%]{transform:scale(1.6)}.linha[_ngcontent-%COMP%]:nth-child(even){background:#fff}.linha[_ngcontent-%COMP%]:nth-child(odd){background:#000}"]}),e})()}];let U=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[m.Bz.forChild(M)],m.Bz]}),e})();var Y=r(3122),z=r(2559),V=r(4466);let G=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[u.ez,U,Y.q,c.u5,c.UX,V.m,z.yI.forChild()]]}),e})()}}]);