"use strict";(self.webpackChunktimer=self.webpackChunktimer||[]).push([[119],{2119:(So,y,s)=>{s.r(y),s.d(y,{UsuarioModule:()=>yo});var o=s(7716);let G=(()=>{class t{canActivate(r,a){return console.log("route - ACAO",r.params.acao),!0}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=s(8583),A=s(8239),g=s(7438),l=s(3679),n=s(3032),m=s(9267),k=s(2546),F=s(2401),$=s(3e3),U=s(1209),S=s(9189),I=s(7006),D=s(103),f=s(4655),T=s(789),O=s(2522),_=s(8295),N=s(1095),J=s(6627),E=s(9983),Q=s(2559),V=s(7441),Y=s(2458);function z(t,e){if(1&t){const r=o.EpF();o.TgZ(0,"button",27),o.NdJ("click",function(){return o.CHM(r),o.oxw().onSubmit()}),o.TgZ(1,"mat-icon"),o._uU(2,"check"),o.qZA(),o._uU(3),o.qZA()}if(2&t){const r=o.oxw();o.xp6(3),o.hij(" ",r.acao," ")}}function j(t,e){if(1&t&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&t){const r=o.oxw();let a;o.xp6(1),o.hij(" ",null==(a=r.formulario.get("razao"))||null==a.errors?null:a.errors.message,"")}}function B(t,e){if(1&t&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&t){const r=o.oxw();let a;o.xp6(1),o.hij(" ",null==(a=r.formulario.get("cadastr"))||null==a.errors?null:a.errors.message,"")}}function M(t,e){1&t&&(o.TgZ(0,"mat-error"),o._uU(1,"Fantasia m\xe1ximo 25 letras "),o.qZA())}function L(t,e){if(1&t&&(o.TgZ(0,"mat-option",31),o._uU(1),o.qZA()),2&t){const r=e.$implicit;o.Q6J("value",r.id),o.xp6(1),o.hij(" ",r.grupo," ")}}function P(t,e){if(1&t&&(o.TgZ(0,"mat-form-field",28),o.TgZ(1,"mat-label"),o._uU(2,"Grupo Do Usu\xe1rio"),o.qZA(),o.TgZ(3,"mat-select",29),o.YNc(4,L,2,2,"mat-option",30),o.qZA(),o.qZA()),2&t){const r=o.oxw();o.xp6(4),o.Q6J("ngForOf",r.grupos)}}function R(t,e){if(1&t&&(o.TgZ(0,"mat-form-field",28),o.TgZ(1,"mat-label"),o._uU(2,"Grupo"),o.qZA(),o._UZ(3,"input",32),o.qZA()),2&t){const r=o.oxw();o.xp6(3),o.Q6J("readonly",r.readOnly)}}function K(t,e){if(1&t&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&t){const r=o.oxw();let a;o.xp6(1),o.hij(" ",null==(a=r.formulario.get("cnpj_cpf"))||null==a.errors?null:a.errors.message,"")}}function H(t,e){if(1&t&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&t){const r=o.oxw();let a;o.xp6(1),o.hij(" ",null==(a=r.formulario.get("rua"))||null==a.errors?null:a.errors.message,"")}}function X(t,e){if(1&t&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&t){const r=o.oxw();let a;o.xp6(1),o.hij(" ",null==(a=r.formulario.get("nro"))||null==a.errors?null:a.errors.message,"")}}function W(t,e){if(1&t&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&t){const r=o.oxw();let a;o.xp6(1),o.hij(" ",null==(a=r.formulario.get("complemento"))||null==a.errors?null:a.errors.message,"")}}function oo(t,e){if(1&t&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&t){const r=o.oxw();let a;o.xp6(1),o.hij(" ",null==(a=r.formulario.get("bairro"))||null==a.errors?null:a.errors.message,"")}}function ao(t,e){if(1&t&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&t){const r=o.oxw();let a;o.xp6(1),o.hij(" ",null==(a=r.formulario.get("cidade"))||null==a.errors?null:a.errors.message,"")}}function ro(t,e){if(1&t&&(o.TgZ(0,"mat-option",31),o._uU(1),o.qZA()),2&t){const r=e.$implicit;o.Q6J("value",r.sigla),o.xp6(1),o.AsE(" ",r.sigla,"-",r.nome," ")}}function to(t,e){if(1&t&&(o.TgZ(0,"mat-form-field",33),o.TgZ(1,"mat-label"),o._uU(2,"Estado:"),o.qZA(),o.TgZ(3,"mat-select",34),o.YNc(4,ro,2,3,"mat-option",30),o.qZA(),o.qZA()),2&t){const r=o.oxw();o.xp6(4),o.Q6J("ngForOf",r.ufs)}}function eo(t,e){if(1&t&&(o.TgZ(0,"mat-form-field",33),o.TgZ(1,"mat-label"),o._uU(2,"Estado:"),o.qZA(),o._UZ(3,"input",35),o.qZA()),2&t){const r=o.oxw();o.xp6(3),o.Q6J("readonly",r.readOnly)}}function io(t,e){if(1&t&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&t){const r=o.oxw();let a;o.xp6(1),o.hij(" ",null==(a=r.formulario.get("cep"))||null==a.errors?null:a.errors.message,"")}}function so(t,e){1&t&&(o.TgZ(0,"mat-error"),o._uU(1,"E-Mail Inv\xe1lido! "),o.qZA())}function uo(t,e){if(1&t&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&t){const r=o.oxw();o.xp6(1),o.Oqu(r.getMensafield("tel1"))}}function lo(t,e){if(1&t&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&t){const r=o.oxw();o.xp6(1),o.Oqu(r.getMensafield("tel2"))}}let no=(()=>{class t{constructor(r,a,i,c,u,p,Z,v){this.formBuilder=r,this.usuariosService=a,this.grupoUserService=i,this.globalService=c,this.estadosSrv=u,this.route=p,this.router=Z,this.appSnackBar=v,this.usuario=new g.g,this.grupos=[],this.acao="Sem Defini\xe7\xe3o",this.idAcao=n.I.Inclusao,this.readOnly=!0,this.durationInSeconds=2,this.labelCadastro="",this.ufs=[],this.formulario=r.group({id:[{value:"",disabled:!0}],razao:[{value:""},[(0,m.S)(3,40,!0)]],cadastr:[{value:""},[(0,F.K)(!0)]],cnpj_cpf:[{value:""},[(0,$.x)(!1)]],senha:[{value:""},[l.kI.required,l.kI.minLength(3),l.kI.maxLength(25)]],grupo:[{value:""}],grupo_:[{value:""}],rua:[{value:""},[(0,m.S)(3,80,!1)]],nro:[{value:""},[(0,m.S)(1,10,!1)]],complemento:[{value:""},[(0,m.S)(0,30)]],bairro:[{value:""},[(0,m.S)(3,40,!1)]],cidade:[{value:""},[(0,m.S)(3,40,!1)]],uf:[{value:""},[(0,m.S)(2,2,!1)]],uf_:[{value:""}],cep:[{value:""},[(0,k.l)(!1)]],tel1:[{value:""},[(0,m.S)(0,23,!1)]],tel2:[{value:""},[(0,m.S)(0,23)]],email:[{value:""},[l.kI.required,l.kI.email]]}),this.usuario=new g.g,this.grupos=[],this.inscricaoRota=p.params.subscribe(d=>{this.usuario.id_empresa=d.id_empresa,this.usuario.id=d.id,this.usuario.senha="",this.usuario.grupo=1,this.idAcao=d.acao,this.setAcao(d.acao)})}ngOnInit(){this.idAcao==n.I.Inclusao?(this.usuario=new g.g,this.usuario.id_empresa=1,this.usuario.grupo=1,this.setValue()):this.getUsuario(),this.getUfs(),this.getGrupos()}ngOnDestroy(){var r,a,i,c,u;null===(r=this.incricaoGetUsuario)||void 0===r||r.unsubscribe(),null===(a=this.inscricaoGetGrupo)||void 0===a||a.unsubscribe(),null===(i=this.inscricaoRota)||void 0===i||i.unsubscribe(),null===(c=this.inscricaoAcao)||void 0===c||c.unsubscribe(),null===(u=this.inscricaoUf)||void 0===u||u.unsubscribe()}onSubmit(){this.formulario.valid?this.executaAcao():this.appSnackBar.openSuccessSnackBar("Formul\xe1rio Com Campos Inv\xe1lidos.","OK")}onCancel(){this.router.navigate(this.idAcao==n.I.Atualizacao?["/"]:["/usuarios"])}getUfs(){this.inscricaoUf=this.estadosSrv.getEstados().subscribe(r=>{this.ufs=r},r=>{this.appSnackBar.openFailureSnackBar(`Pesquisa Cadastrado De Estados ${r.error.tabela} - ${r.error.erro} - ${r.error.message}`,"OK")})}getUsuario(){this.incricaoGetUsuario=this.usuariosService.getUsuario(this.usuario.id_empresa,this.usuario.id).subscribe(r=>{this.usuario=r,this.setValue()},r=>{this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Usu\xe1rios ${r.error.tabela} - ${r.error.erro} - ${r.error.message}`,"OK")})}setReadOnly(r){}getGrupos(){this.idAcao==n.I.Consulta||this.idAcao==n.I.Exclusao||(this.inscricaoGetGrupo=this.grupoUserService.getGrupoUsers().subscribe(r=>{this.grupos=r},r=>{this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Grupos ${r.error.tabela} - ${r.error.erro} - ${r.error.message}`,"OK")}))}setValue(){this.formulario.setValue({id:this.usuario.id,razao:this.usuario.razao,cadastr:this.usuario.cadastr,senha:this.usuario.senha,grupo:this.usuario.grupo,grupo_:this.idAcao==n.I.Consulta||this.idAcao==n.I.Exclusao?this.usuario.gru_descricao:"",cnpj_cpf:this.usuario.cnpj_cpf,rua:this.usuario.rua,nro:this.usuario.nro,complemento:this.usuario.complemento,bairro:this.usuario.bairro,cidade:this.usuario.cidade,uf:this.usuario.uf,uf_:this.idAcao==n.I.Consulta||this.idAcao==n.I.Exclusao?this.usuario.uf:"",cep:this.usuario.cep,tel1:this.usuario.tel1,tel2:this.usuario.tel2,email:this.usuario.email})}getLabelCancel(){return this.idAcao==n.I.Consulta?"Voltar":"Cancelar"}setAcao(r){switch(+r){case n.I.Inclusao:this.acao="Gravar",this.labelCadastro="Usu\xe1rios - Inclus\xe3o.",this.readOnly=!1;break;case n.I.Edicao:this.acao="Gravar",this.labelCadastro="Usu\xe1rios - Altera\xe7\xe3o.",this.readOnly=!1;break;case n.I.Consulta:this.acao="Voltar",this.labelCadastro="Usu\xe1rios - Consulta.",this.readOnly=!0;break;case n.I.Exclusao:this.acao="Excluir",this.labelCadastro="Usu\xe1rios - Exclus\xe3o.",this.readOnly=!0;break;case n.I.Atualizacao:this.acao="Gravar",this.labelCadastro="Usu\xe1rios - Atualiza\xe7\xe3o",this.readOnly=!1}}executaAcao(){var r=this;switch(this.usuario.razao=this.formulario.value.razao,this.usuario.cnpj_cpf=this.formulario.value.cnpj_cpf,this.usuario.cadastr=this.formulario.value.cadastr,this.usuario.rua=this.formulario.value.rua,this.usuario.nro=this.formulario.value.nro,this.usuario.complemento=this.formulario.value.complemento,this.usuario.bairro=this.formulario.value.bairro,this.usuario.cidade=this.formulario.value.cidade,this.usuario.uf=this.formulario.value.uf,this.usuario.cep=this.formulario.value.cep,this.usuario.tel1=this.formulario.value.tel1,this.usuario.tel2=this.formulario.value.tel2,this.usuario.email=this.formulario.value.email,this.usuario.senha=this.formulario.value.senha,this.usuario.pasta=this.formulario.value.pasta,this.usuario.grupo=this.formulario.value.grupo,+this.idAcao){case n.I.Inclusao:this.inscricaoAcao=this.usuariosService.UsuarioInsert(this.usuario).subscribe(function(){var a=(0,A.Z)(function*(i){r.onCancel()});return function(i){return a.apply(this,arguments)}}(),a=>{this.appSnackBar.openFailureSnackBar(`Erro Na INclus\xe3o ${a.error.tabela} - ${a.error.erro} - ${a.error.message}`,"OK")});break;case n.I.Edicao:this.inscricaoAcao=this.usuariosService.UsuarioUpdate(this.usuario).subscribe(function(){var a=(0,A.Z)(function*(i){r.usuario.id==r.globalService.getUsuario().id?(r.globalService.setUsuario(new g.g),r.globalService.setLogado(!1)):r.onCancel()});return function(i){return a.apply(this,arguments)}}(),a=>{this.appSnackBar.openFailureSnackBar(`Erro Na Altera\xe7\xe3o ${a.error.tabela} - ${a.error.erro} - ${a.error.message}`,"OK")});break;case n.I.Atualizacao:this.inscricaoAcao=this.usuariosService.UsuarioUpdate(this.usuario).subscribe(function(){var a=(0,A.Z)(function*(i){r.globalService.setUsuario(new g.g),r.globalService.setLogado(!1)});return function(i){return a.apply(this,arguments)}}(),a=>{console.log("Error",a.error),this.appSnackBar.openFailureSnackBar(`Erro Na Altera\xe7\xe3o ${a.error.tabela} - ${a.error.erro} - ${a.error.message}`,"OK")});break;case n.I.Exclusao:this.inscricaoAcao=this.usuariosService.UsuarioDelete(this.usuario.id_empresa,this.usuario.id).subscribe(function(){var a=(0,A.Z)(function*(i){r.onCancel()});return function(i){return a.apply(this,arguments)}}(),a=>{this.appSnackBar.openFailureSnackBar(`Erro Na Exclusao ${a.error.tabela} - ${a.error.erro} - ${a.error.message}`,"OK")})}}delay(r){return new Promise(a=>setTimeout(a,r))}getAcoes(){return n.I}touchedOrDirty(r){var a,i;return!(!(null===(a=this.formulario.get(r))||void 0===a?void 0:a.touched)&&!(null===(i=this.formulario.get(r))||void 0===i?void 0:i.dirty))}getValidfield(r){var a,i;return(null===(i=null===(a=this.formulario.get(r))||void 0===a?void 0:a.errors)||void 0===i?void 0:i.ValidatorStringLen)&&this.touchedOrDirty(r)}getMensafield(r){var a,i;return null===(i=null===(a=this.formulario.get(r))||void 0===a?void 0:a.errors)||void 0===i?void 0:i.message}setEmailReadOnly(){return 5==this.idAcao||this.readOnly}}return t.\u0275fac=function(r){return new(r||t)(o.Y36(l.qu),o.Y36(U.J),o.Y36(S.c),o.Y36(I.U),o.Y36(D.V),o.Y36(f.gz),o.Y36(f.F0),o.Y36(T.W))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-usuario-view"]],decls:91,vars:37,consts:[[1,"example-spacer"],[1,"button-container-right"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],["autocomplete","off",3,"formGroup"],[1,"col-med-4"],["appearance","outline",1,"col-max"],["matInput","","formControlName","id"],["appearance","outline",1,"col-max","column-span-2"],["matInput","","formControlName","razao","oninput","this.value = this.value.toUpperCase()","autofocus","",3,"readonly"],[4,"ngIf"],["matInput","","formControlName","cadastr","mask","00/00/0000","placeholder","DD/MM/AAAA","readonly","true"],["type","password","matInput","","formControlName","senha",3,"readonly"],["field","","appearance","outline","class","col-max column-span-2",4,"ngIf"],["matInput","","formControlName","cnpj_cpf","mask","00.000.000/0000-00||000.000.000-00",3,"dropSpecialCharacters","readonly"],[1,"col-med-3"],["matInput","","formControlName","rua","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","nro","oninput","this.value = this.value.toUpperCase()",3,"readonly"],[1,"col-med-1"],["matInput","","formControlName","complemento","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","bairro","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","cidade","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["field","","appearance","outline","class","col-max",4,"ngIf"],["matInput","","formControlName","cep","mask","99999-999",3,"dropSpecialCharacters","readonly"],["matInput","","formControlName","email",3,"readonly"],["matInput","","formControlName","tel1","mask","(00) 0 0000-0000||(00) 0000-0000",3,"dropSpecialCharacters","readonly"],["matInput","","formControlName","tel2","mask","(00) 0 0000-0000||(00) 0000-0000",3,"dropSpecialCharacters","readonly"],["mat-raised-button","","color","primary",3,"click"],["field","","appearance","outline",1,"col-max","column-span-2"],["formControlName","grupo"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","formControlName","grupo_",3,"readonly"],["field","","appearance","outline",1,"col-max"],["formControlName","uf"],["matInput","","formControlName","uf_",3,"readonly"]],template:function(r,a){if(1&r&&(o.TgZ(0,"p"),o.TgZ(1,"mat-toolbar"),o.TgZ(2,"span",0),o.TgZ(3,"mat-label"),o._uU(4),o.qZA(),o.qZA(),o.TgZ(5,"div",1),o.YNc(6,z,4,1,"button",2),o.TgZ(7,"button",3),o.NdJ("click",function(){return a.onCancel()}),o.TgZ(8,"mat-icon"),o._uU(9,"cancel"),o.qZA(),o._uU(10),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(11,"form",4),o.TgZ(12,"div",5),o.TgZ(13,"mat-form-field",6),o.TgZ(14,"mat-label"),o._uU(15,"C\xd3DIGO"),o.qZA(),o._UZ(16,"input",7),o.qZA(),o.TgZ(17,"mat-form-field",8),o.TgZ(18,"mat-label"),o._uU(19,"Raz\xe3o Social"),o.qZA(),o._UZ(20,"input",9),o.YNc(21,j,2,1,"mat-error",10),o.qZA(),o.TgZ(22,"mat-form-field",6),o.TgZ(23,"mat-label"),o._uU(24,"Cadastro"),o.qZA(),o._UZ(25,"input",11),o.YNc(26,B,2,1,"mat-error",10),o.qZA(),o.qZA(),o.TgZ(27,"div",5),o.TgZ(28,"mat-form-field",6),o.TgZ(29,"mat-label"),o._uU(30,"Senha"),o.qZA(),o._UZ(31,"input",12),o.YNc(32,M,2,0,"mat-error",10),o.qZA(),o.YNc(33,P,5,1,"mat-form-field",13),o.YNc(34,R,4,1,"mat-form-field",13),o.TgZ(35,"mat-form-field",6),o.TgZ(36,"mat-label"),o._uU(37,"CNPJ/CPF"),o.qZA(),o._UZ(38,"input",14),o.YNc(39,K,2,1,"mat-error",10),o.qZA(),o.qZA(),o.TgZ(40,"div",15),o.TgZ(41,"mat-form-field",8),o.TgZ(42,"mat-label"),o._uU(43,"Endere\xe7o:"),o.qZA(),o._UZ(44,"input",16),o.YNc(45,H,2,1,"mat-error",10),o.qZA(),o.TgZ(46,"mat-form-field",6),o.TgZ(47,"mat-label"),o._uU(48,"N\xfamero"),o.qZA(),o._UZ(49,"input",17),o.YNc(50,X,2,1,"mat-error",10),o.qZA(),o.qZA(),o.TgZ(51,"div",18),o.TgZ(52,"mat-form-field",6),o.TgZ(53,"mat-label"),o._uU(54,"Complemento:"),o.qZA(),o._UZ(55,"input",19),o.YNc(56,W,2,1,"mat-error",10),o.qZA(),o.qZA(),o.TgZ(57,"div",15),o.TgZ(58,"mat-form-field",6),o.TgZ(59,"mat-label"),o._uU(60,"Bairro:"),o.qZA(),o._UZ(61,"input",20),o.YNc(62,oo,2,1,"mat-error",10),o.qZA(),o.TgZ(63,"mat-form-field",6),o.TgZ(64,"mat-label"),o._uU(65,"Cidade:"),o.qZA(),o._UZ(66,"input",21),o.YNc(67,ao,2,1,"mat-error",10),o.qZA(),o.YNc(68,to,5,1,"mat-form-field",22),o.YNc(69,eo,4,1,"mat-form-field",22),o.TgZ(70,"mat-form-field",6),o.TgZ(71,"mat-label"),o._uU(72,"CEP:"),o.qZA(),o._UZ(73,"input",23),o.YNc(74,io,2,1,"mat-error",10),o.qZA(),o.qZA(),o.TgZ(75,"div",15),o.TgZ(76,"mat-form-field",6),o.TgZ(77,"mat-label"),o._uU(78,"E-Mail:"),o.qZA(),o._UZ(79,"input",24),o.YNc(80,so,2,0,"mat-error",10),o.qZA(),o.TgZ(81,"mat-form-field",6),o.TgZ(82,"mat-label"),o._uU(83,"Telefone 1:"),o.qZA(),o._UZ(84,"input",25),o.YNc(85,uo,2,1,"mat-error",10),o.qZA(),o.TgZ(86,"mat-form-field",6),o.TgZ(87,"mat-label"),o._uU(88,"Telefone 2:"),o.qZA(),o._UZ(89,"input",26),o.YNc(90,lo,2,1,"mat-error",10),o.qZA(),o.qZA(),o.qZA()),2&r){let i,c,u,p,Z,v,d,b,x,q,w;o.xp6(4),o.Oqu(a.labelCadastro),o.xp6(2),o.Q6J("ngIf",3!=a.idAcao),o.xp6(4),o.hij(" ",a.getLabelCancel()," "),o.xp6(1),o.Q6J("formGroup",a.formulario),o.xp6(9),o.Q6J("readonly",a.readOnly),o.xp6(1),o.Q6J("ngIf",(null==(i=a.formulario.get("razao"))||null==i.errors?null:i.errors.ValidatorStringLen)&&a.touchedOrDirty("razao")),o.xp6(5),o.Q6J("ngIf",(null==(c=a.formulario.get("cadastr"))||null==c.errors?null:c.errors.ValidatorDate)&&a.touchedOrDirty("cadastr")),o.xp6(5),o.Q6J("readonly",a.readOnly),o.xp6(1),o.Q6J("ngIf","INVALID"==(null==(u=a.formulario.get("senha"))?null:u.status)&&a.touchedOrDirty("senha")),o.xp6(1),o.Q6J("ngIf",a.idAcao!=a.getAcoes().Consulta&&a.idAcao!=a.getAcoes().Exclusao&&a.idAcao!=a.getAcoes().Atualizacao),o.xp6(1),o.Q6J("ngIf",a.idAcao==a.getAcoes().Consulta||a.idAcao==a.getAcoes().Exclusao),o.xp6(4),o.Q6J("dropSpecialCharacters",!0)("readonly",a.readOnly),o.xp6(1),o.Q6J("ngIf",(null==(p=a.formulario.get("cnpj_cpf"))||null==p.errors?null:p.errors.ValidadorCnpjCpf)&&a.touchedOrDirty("cnpj_cpf")),o.xp6(5),o.Q6J("readonly",a.readOnly),o.xp6(1),o.Q6J("ngIf",(null==(Z=a.formulario.get("rua"))||null==Z.errors?null:Z.errors.ValidatorStringLen)&&a.touchedOrDirty("rua")),o.xp6(4),o.Q6J("readonly",a.readOnly),o.xp6(1),o.Q6J("ngIf",(null==(v=a.formulario.get("nro"))||null==v.errors?null:v.errors.ValidatorStringLen)&&a.touchedOrDirty("nro")),o.xp6(5),o.Q6J("readonly",a.readOnly),o.xp6(1),o.Q6J("ngIf",(null==(d=a.formulario.get("complemento"))||null==d.errors?null:d.errors.ValidatorStringLen)&&a.touchedOrDirty("complemento")),o.xp6(5),o.Q6J("readonly",a.readOnly),o.xp6(1),o.Q6J("ngIf",(null==(b=a.formulario.get("bairro"))||null==b.errors?null:b.errors.ValidatorStringLen)&&a.touchedOrDirty("bairro")),o.xp6(4),o.Q6J("readonly",a.readOnly),o.xp6(1),o.Q6J("ngIf",(null==(x=a.formulario.get("cidade"))||null==x.errors?null:x.errors.ValidatorStringLen)&&a.touchedOrDirty("cidade")),o.xp6(1),o.Q6J("ngIf",a.idAcao!=a.getAcoes().Consulta&&a.idAcao!=a.getAcoes().Exclusao),o.xp6(1),o.Q6J("ngIf",a.idAcao==a.getAcoes().Consulta||a.idAcao==a.getAcoes().Exclusao),o.xp6(4),o.Q6J("dropSpecialCharacters",!0)("readonly",a.readOnly),o.xp6(1),o.Q6J("ngIf",(null==(q=a.formulario.get("cep"))||null==q.errors?null:q.errors.ValidatorCep)&&a.touchedOrDirty("cep")),o.xp6(5),o.Q6J("readonly",a.setEmailReadOnly()),o.xp6(1),o.Q6J("ngIf","INVALID"==(null==(w=a.formulario.get("email"))?null:w.status)&&a.touchedOrDirty("email")),o.xp6(4),o.Q6J("dropSpecialCharacters",!0)("readonly",a.readOnly),o.xp6(1),o.Q6J("ngIf",a.getValidfield("tel1")),o.xp6(4),o.Q6J("dropSpecialCharacters",!0)("readonly",a.readOnly),o.xp6(1),o.Q6J("ngIf",a.getValidfield("tel2"))}},directives:[O.Ye,_.hX,h.O5,N.lW,J.Hw,l._Y,l.JL,l.sg,_.KE,E.Nt,l.Fj,l.JJ,l.u,Q.hx,_.TO,V.gD,h.sg,Y.ey],styles:[".button-container-right[_ngcontent-%COMP%]{display:flex;justify-content:right;height:min-content;width:100%}.button-container-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}"]}),t})();var co=s(7117),mo=s(6468),po=s(1436),C=s(3738);function fo(t,e){if(1&t&&(o.TgZ(0,"mat-option",15),o._uU(1),o.qZA()),2&t){const r=e.$implicit;o.Q6J("value",r),o.xp6(1),o.hij(" ",r," ")}}function go(t,e){if(1&t&&(o.TgZ(0,"mat-option",15),o._uU(1),o.qZA()),2&t){const r=e.$implicit;o.Q6J("value",r),o.xp6(1),o.hij(" ",r," ")}}function ho(t,e){if(1&t&&(o.TgZ(0,"mat-option",15),o._uU(1),o.qZA()),2&t){const r=e.$implicit;o.Q6J("value",r.id),o.xp6(1),o.hij(" ",r.grupo," ")}}function _o(t,e){if(1&t&&(o.TgZ(0,"mat-form-field",16),o.TgZ(1,"mat-label"),o._uU(2,"Pesquisar Por"),o.qZA(),o.TgZ(3,"mat-select",17),o.YNc(4,ho,2,2,"mat-option",9),o.qZA(),o.qZA()),2&t){const r=o.oxw();o.xp6(4),o.Q6J("ngForOf",r.grupos)}}function Zo(t,e){1&t&&(o.TgZ(0,"mat-form-field",18),o.TgZ(1,"mat-label"),o._uU(2,"Descri\xe7\xe3o"),o.qZA(),o._UZ(3,"input",19),o.qZA())}function vo(t,e){if(1&t){const r=o.EpF();o.TgZ(0,"div",20),o.TgZ(1,"mat-card",21),o.TgZ(2,"mat-card-actions"),o.TgZ(3,"span",22),o.TgZ(4,"button",4),o.NdJ("click",function(){const c=o.CHM(r).$implicit,u=o.oxw();return u.escolha(u.getAcoes().Consulta,c)}),o.TgZ(5,"mat-icon"),o._uU(6,"remove_red_eye"),o.qZA(),o.qZA(),o.TgZ(7,"button",4),o.NdJ("click",function(){const c=o.CHM(r).$implicit,u=o.oxw();return u.escolha(u.getAcoes().Edicao,c)}),o.TgZ(8,"mat-icon"),o._uU(9,"edit"),o.qZA(),o.qZA(),o.TgZ(10,"button",4),o.NdJ("click",function(){const c=o.CHM(r).$implicit,u=o.oxw();return u.escolha(u.getAcoes().Exclusao,c)}),o.TgZ(11,"mat-icon"),o._uU(12,"delete"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(13,"mat-card-content"),o.TgZ(14,"mat-label",23),o._uU(15,"C\xd3DIGO:"),o.qZA(),o.TgZ(16,"mat-label",24),o._uU(17),o.qZA(),o.TgZ(18,"mat-label",25),o._uU(19,"Social:"),o.qZA(),o.TgZ(20,"mat-label",24),o._uU(21),o.qZA(),o.TgZ(22,"mat-label",25),o._uU(23,"Grupo:"),o.qZA(),o.TgZ(24,"mat-label",24),o._uU(25),o.qZA(),o.TgZ(26,"mat-label",25),o._uU(27,"E-Mail:"),o.qZA(),o.TgZ(28,"mat-label",24),o._uU(29),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&t){const r=e.$implicit,a=o.oxw();o.xp6(4),o.Q6J("matTooltip",a.getTexto().consultar),o.xp6(3),o.Q6J("matTooltip",a.getTexto().alterar),o.xp6(3),o.Q6J("matTooltip",a.getTexto().excluir),o.xp6(7),o.Oqu(r.id),o.xp6(4),o.Oqu(r.razao),o.xp6(4),o.Oqu(r.grupo),o.xp6(4),o.Oqu(r.email)}}let Ao=(()=>{class t{constructor(r,a,i,c,u,p){this.formBuilder=r,this.usuariosService=a,this.grupoUserService=i,this.globalService=c,this.router=u,this.appSnackBar=p,this.usuarios=[],this.grupos=[],this.erro="",this.opcoesOrdenacao=["C\xf3digo","Raz\xe3o","Grupo"],this.opcoesCampo=["C\xf3digo","Raz\xe3o","Grupo"],this.parametros=r.group({ordenacao:[null],campo:[null],filtro:[null],grupo:[]}),this.setValues(),this.getGrupos()}ngOnInit(){this.getUsuarios()}ngOnDestroy(){var r,a,i;null===(r=this.inscricaoGetAll)||void 0===r||r.unsubscribe(),null===(a=this.inscricaoGetFiltro)||void 0===a||a.unsubscribe(),null===(i=this.inscricaoGetGrupo)||void 0===i||i.unsubscribe()}escolha(r,a){this.router.navigate(void 0!==a?["/usuarios/usuario",a.id_empresa,a.id,r]:["/usuarios/usuario",1,0,r])}onHome(){this.router.navigate(["/"])}getAcoes(){return n.I}getUsuarios(){let r=new mo.w;if(r.id_empresa=1,"C\xf3digo"==this.parametros.value.campo){let a=parseInt(this.parametros.value.filtro,10);r.id=isNaN(a)?0:a}"Raz\xe3o"==this.parametros.value.campo&&(r.razao=this.parametros.value.filtro.toUpperCase()),"Grupo"==this.parametros.value.campo&&r.grupo.push(this.parametros.value.grupo),r.orderby=this.parametros.value.ordenacao,this.globalService.setSpin(!0),this.inscricaoGetFiltro=this.usuariosService.getusuarios_01(r).subscribe(a=>{this.globalService.setSpin(!1),this.usuarios=a},a=>{this.globalService.setSpin(!1),this.usuarios=[],this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Usu\xe1rios ${a.error.tabela} - ${a.error.erro} - ${a.error.message}`,"OK")})}getGrupos(){this.globalService.setSpin(!0),this.inscricaoGetGrupo=this.grupoUserService.getGrupoUsers().subscribe(r=>{this.globalService.setSpin(!1),this.grupos=r},r=>{this.globalService.setSpin(!1),this.erro=r,this.grupos=[],console.log("this.erro",this.erro)})}isGrupo(){return"Grupo"==this.parametros.value.campo}setValues(){this.parametros.setValue({ordenacao:"C\xf3digo",campo:"C\xf3digo",filtro:"",grupo:1})}getTexto(){return co.fd}}return t.\u0275fac=function(r){return new(r||t)(o.Y36(l.qu),o.Y36(U.J),o.Y36(S.c),o.Y36(I.U),o.Y36(f.F0),o.Y36(T.W))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-crud-usuario"]],decls:29,vars:7,consts:[[1,"div-barra"],[1,"example-spacer"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Retorno","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Atualizar","matTooltipPosition","above",1,"example-icon",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above",3,"matTooltip","click"],[1,"parametros"],["autocomplete","off",1,"col-med-4",3,"formGroup"],["field","","appearance","outline",1,"col-max"],["formControlName","ordenacao"],[3,"value",4,"ngFor","ngForOf"],["formControlName","campo"],["field","","appearance","outline","class","col-max column-span-2",4,"ngIf"],["appearance","outline","class","col-max column-span-2",4,"ngIf"],[1,"Browse"],["class","linha",4,"ngFor","ngForOf"],[3,"value"],["field","","appearance","outline",1,"col-max","column-span-2"],["formControlName","grupo"],["appearance","outline",1,"col-max","column-span-2"],["matInput","","formControlName","filtro"],[1,"linha"],[1,"example-card"],[1,"button-container-right"],[1,"labelTitleFirst"],[1,"labelData"],[1,"labelTitle"]],template:function(r,a){1&r&&(o.TgZ(0,"div",0),o.TgZ(1,"mat-toolbar"),o.TgZ(2,"span",1),o._uU(3,"Usu\xe1rios: "),o.qZA(),o.TgZ(4,"button",2),o.NdJ("click",function(){return a.onHome()}),o.TgZ(5,"mat-icon"),o._uU(6,"home"),o.qZA(),o.qZA(),o.TgZ(7,"button",3),o.NdJ("click",function(){return a.getUsuarios()}),o.TgZ(8,"mat-icon"),o._uU(9,"rotate_right"),o.qZA(),o.qZA(),o.TgZ(10,"button",4),o.NdJ("click",function(){return a.escolha(a.getAcoes().Inclusao)}),o.TgZ(11,"mat-icon"),o._uU(12,"add_circle_outline"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(13,"div",5),o.TgZ(14,"form",6),o.TgZ(15,"mat-form-field",7),o.TgZ(16,"mat-label"),o._uU(17,"Ordena\xe7\xe3o"),o.qZA(),o.TgZ(18,"mat-select",8),o.YNc(19,fo,2,2,"mat-option",9),o.qZA(),o.qZA(),o.TgZ(20,"mat-form-field",7),o.TgZ(21,"mat-label"),o._uU(22,"Pesquisar Por"),o.qZA(),o.TgZ(23,"mat-select",10),o.YNc(24,go,2,2,"mat-option",9),o.qZA(),o.qZA(),o.YNc(25,_o,5,1,"mat-form-field",11),o.YNc(26,Zo,4,0,"mat-form-field",12),o.qZA(),o.qZA(),o.TgZ(27,"div",13),o.YNc(28,vo,30,7,"div",14),o.qZA()),2&r&&(o.xp6(10),o.Q6J("matTooltip",a.getTexto().incluir),o.xp6(4),o.Q6J("formGroup",a.parametros),o.xp6(5),o.Q6J("ngForOf",a.opcoesOrdenacao),o.xp6(5),o.Q6J("ngForOf",a.opcoesCampo),o.xp6(1),o.Q6J("ngIf",a.isGrupo()),o.xp6(1),o.Q6J("ngIf",!a.isGrupo()),o.xp6(2),o.Q6J("ngForOf",a.usuarios))},directives:[O.Ye,N.lW,po.gM,J.Hw,l._Y,l.JL,l.sg,_.KE,_.hX,V.gD,l.JJ,l.u,h.sg,h.O5,Y.ey,E.Nt,l.Fj,C.a8,C.hq,C.dn],styles:[""]}),t})(),Uo=(()=>{class t{constructor(r,a,i,c){this.route=r,this.usuariosService=a,this.router=i,this.appSnackBar=c,this.usuario=new g.g,this.idAcao=5,this.durationInSeconds=2,this.inscricaoRota=r.params.subscribe(u=>{this.usuario.id_empresa=u.id_empresa,this.usuario.email=u.email})}ngOnInit(){this.getUsuario()}ngOnDestroy(){var r,a;null===(r=this.incricaoGetUsuario)||void 0===r||r.unsubscribe(),null===(a=this.inscricaoRota)||void 0===a||a.unsubscribe()}getUsuario(){this.incricaoGetUsuario=this.usuariosService.getUsuarioByEmail(this.usuario.id_empresa,this.usuario.email).subscribe(r=>{this.usuario=r,this.router.navigate(["usuarios/usuario",this.usuario.id_empresa,this.usuario.id,this.idAcao])},r=>{this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Usu\xe1rios ${r.error.tabela} - ${r.error.erro} - ${r.error.message}`,"OK")})}}return t.\u0275fac=function(r){return new(r||t)(o.Y36(f.gz),o.Y36(U.J),o.Y36(f.F0),o.Y36(T.W))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-atualizacao-cadastral"]],decls:2,vars:0,template:function(r,a){1&r&&(o.TgZ(0,"h1"),o._uU(1,"ESTOU NA ATULIZA\xc7\xc3O CADASTRAL"),o.qZA())},styles:[""]}),t})();const Co=[{path:"",redirectTo:"usuarios",pathMatch:"full"},{path:"usuarios",component:Ao},{path:"usuario/:id_empresa/:id/:acao",component:no,canActivate:[s(1759).C]},{path:"atualizacao",component:Uo}];let bo=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[f.Bz.forChild(Co)],f.Bz]}),t})();var xo=s(3122),qo=s(4466);let yo=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[G],imports:[[h.ez,bo,xo.q,l.u5,l.UX,qo.m,Q.yI.forChild()]]}),t})()}}]);