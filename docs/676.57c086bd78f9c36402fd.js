"use strict";(self.webpackChunktimer=self.webpackChunktimer||[]).push([[676],{1676:(gt,P,n)=>{n.r(P),n.d(P,{PontesModule:()=>ht});var _=n(8583),m=n(4655),p=n(9243),v=n(1441),C=n(320),N=n(5062),Z=n(2401),d=n(3032),T=n(3430),l=n(7117),t=n(7716),c=n(3679),D=n(1558),x=n(789),q=n(7006),k=n(5626),O=n(2522),y=n(3968),S=n(1095),I=n(1436),U=n(6627),h=n(8295),F=n(7441),M=n(2458),w=n(9983),b=n(2559),E=n(7234);function Q(a,s){if(1&a&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&a){const o=s.$implicit;t.Q6J("value",o),t.xp6(1),t.hij(" ",o," ")}}function Y(a,s){if(1&a&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&a){const o=s.$implicit;t.Q6J("value",o),t.xp6(1),t.hij(" ",o," ")}}function G(a,s){1&a&&(t.TgZ(0,"mat-form-field",20),t.TgZ(1,"mat-label"),t._uU(2,"Descri\xe7\xe3o"),t.qZA(),t._UZ(3,"input",21),t.qZA())}function R(a,s){if(1&a&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&a){const o=t.oxw(2);let e;t.xp6(1),t.hij(" ",null==(e=o.parametros.get("data"))||null==e.errors?null:e.errors.message,"")}}function B(a,s){if(1&a&&(t.TgZ(0,"mat-form-field",22),t.TgZ(1,"mat-label"),t._uU(2,"Data"),t.qZA(),t._UZ(3,"input",23),t.YNc(4,R,2,1,"mat-error",24),t.qZA()),2&a){const o=t.oxw();let e;t.xp6(4),t.Q6J("ngIf",(null==(e=o.parametros.get("data"))||null==e.errors?null:e.errors.ValidatorDate)&&o.NoValidtouchedOrDirtyCd("data"))}}function j(a,s){if(1&a){const o=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t.TgZ(2,"div",25),t.TgZ(3,"mat-label",26),t._uU(4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"td"),t.TgZ(6,"div"),t.TgZ(7,"mat-label",26),t._uU(8),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"td"),t.TgZ(10,"div",27),t.TgZ(11,"mat-label",26),t._uU(12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"td",28),t.TgZ(14,"barra-acoes",29),t.NdJ("changeOpcao",function(r){const u=t.CHM(o).$implicit;return t.oxw().escolha(r,u)}),t.qZA(),t.qZA(),t.qZA()}if(2&a){const o=s.$implicit;t.xp6(4),t.Oqu(o.data),t.xp6(4),t.Oqu(o.descricao),t.xp6(4),t.Oqu(o.total),t.xp6(2),t.Q6J("BARRA_ATIVIDADES",!1)("EXCLUIR",!1)}}let H=(()=>{class a{constructor(o,e,r,i,u,g,A){this.formBuilder=o,this.feriadoService=e,this.router=r,this.route=i,this.appSnackBar=u,this.globalService=g,this.parametrosService=A,this.feriados=[],this.erro="",this.opcoesOrdenacao=[],this.opcoesCampo=[],this.tamPagina=50,this.controlePaginas=new T.e(this.tamPagina,0),this.retorno=!1,this.parametro=new v.M,this.parametros=o.group({ordenacao:[null],campo:[null],filtro:[null],data:[{value:""},[(0,Z.K)(!1)]]}),this.inscricaoRota=i.params.subscribe(f=>{void 0===f.retorno?this.retorno=!1:(this.retorno=!0,this.globalService.estadoFind("feriado"))})}ngOnInit(){this.loadParametros()}ngOnDestroy(){var o,e,r;null===(o=this.inscricaoGetAll)||void 0===o||o.unsubscribe(),null===(e=this.inscricaoParametro)||void 0===e||e.unsubscribe(),null===(r=this.inscricaoRota)||void 0===r||r.unsubscribe()}escolha(o,e){this.router.navigate(void 0!==e?["/pontes/ponte",e.id_empresa,e.data,o]:["/pontes/ponte",this.globalService.id_empresa,"",o])}getAcoes(){return d.I}getFeriados(){let o=new C.$;o.id_empresa=1,o.id_tipo=2,o.formato="P","Data"==this.parametros.value.campo&&(o.data=this.parametros.value.data),"Descri\xe7\xe3o"==this.parametros.value.campo&&(o.descricao=this.parametros.value.filtro.toUpperCase()),o.orderby=this.parametros.value.ordenacao,o.contador="N",o.tamPagina=this.tamPagina,o.pagina=this.controlePaginas.getPaginalAtual(),this.globalService.setSpin(!0),this.inscricaoGetAll=this.feriadoService.getPontes_01(o).subscribe(e=>{this.globalService.setSpin(!1),this.feriados=e;const r=this.feriados.findIndex(u=>u.data==(0,l.SL)(this.parametro.getParametro(),"id_retorno"));setTimeout(()=>this.viewPort.scrollToIndex(r),10),this.retorno=!1;let i=this.parametro.getParametro();Object(i).id_retorno=0,Object(i).new=!1,this.parametro.parametro=JSON.stringify(i)},e=>{let r=this.parametro.getParametro();Object(r).id_retorno=0,Object(r).new=!1,this.retorno=!1,this.globalService.setSpin(!1),this.feriados=[],this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Feriados ${(0,l.bZ)(e)}`,"OK")})}getFeriadosContador(){let o=new C.$;o.id_empresa=1,o.id_tipo=2,o.formato="P","Data"==this.parametros.value.campo&&(o.data=this.parametros.value.data),"Descri\xe7\xe3o"==this.parametros.value.campo&&(o.descricao=this.parametros.value.filtro.toUpperCase()),o.orderby=this.parametros.value.ordenacao,o.contador="S",o.tamPagina=this.tamPagina,this.globalService.setSpin(!0),this.inscricaoGetAll=this.feriadoService.getFeriados_01(o).subscribe(e=>{if(this.globalService.setSpin(!1),this.controlePaginas=new T.e(this.tamPagina,0==e.total?1:e.total),this.retorno)if((0,l.xc)(this.parametro.getParametro(),"new"))this.controlePaginas.goLast();else{let r=this.parametro.getParametro();this.controlePaginas.setPaginaAtual(Object(r).page)}this.getFeriados()},e=>{this.globalService.setSpin(!1),this.controlePaginas=new T.e(this.tamPagina,0),this.appSnackBar.openFailureSnackBar(`Pesquisa Em Pontes ${(0,l.bZ)(e)}`,"OK")})}getParametro(){this.globalService.setSpin(!0);let o=new N.E;o.id_empresa=this.parametro.id_empresa,o.modulo=this.parametro.modulo,o.assinatura=this.parametro.assinatura,o.id_usuario=this.parametro.id_usuario,o.orderby="Usu\xe1rio",this.inscricaoParametro=this.parametrosService.getParametrosParametro01(o).subscribe(e=>{this.globalService.setSpin(!1),this.parametro=new v.M,this.parametro.id_empresa=e[0].id_empresa,this.parametro.modulo=e[0].modulo,this.parametro.id_usuario=e[0].id_usuario,this.parametro.assinatura=e[0].assinatura,this.parametro.parametro=e[0].parametro,this.parametro.user_insert=e[0].user_insert,this.parametro.user_update=e[0].user_update,this.opcoesOrdenacao=(0,l.FO)(this.parametro.getParametro(),"ordenacao"),this.opcoesCampo=(0,l.FO)(this.parametro.getParametro(),"pesquisar"),this.setValues(),this.getFeriadosContador()},e=>{this.globalService.setSpin(!1),this.setValues(),this.getFeriadosContador()})}updateParametros(){this.globalService.setSpin(!0),this.parametro.user_insert=this.globalService.usuario.id,this.parametro.user_update=this.globalService.usuario.id;let o=this.parametro.getParametro();Object(o).op_ordenacao=this.opcoesOrdenacao.findIndex(e=>this.parametros.value.ordenacao==e),Object(o).op_pesquisar=this.opcoesCampo.findIndex(e=>this.parametros.value.campo==e),Object(o).descricao=this.parametros.value.filtro,Object(o).page=0,Object(o).new=!1,this.parametro.parametro=JSON.stringify(o),this.inscricaoParametro=this.parametrosService.ParametroAtualiza(this.parametro).subscribe(e=>{this.globalService.setSpin(!1),this.appSnackBar.openSuccessSnackBar("Par\xe2metros Atualizados","OK")},e=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`Grava\xe7\xe3o Dos Parametros ${(0,l.bZ)(e)}`,"OK")})}setValues(){this.parametros.setValue({ordenacao:this.opcoesOrdenacao[(0,l.P0)(this.parametro.getParametro(),"op_ordenacao")],campo:this.opcoesCampo[(0,l.P0)(this.parametro.getParametro(),"op_pesquisar")],filtro:(0,l.SL)(this.parametro.getParametro(),"descricao"),data:""})}getTexto(){return l.fd}onChangePage(){this.getFeriados()}onChangeParametros(){this.getFeriadosContador()}onHome(){this.router.navigate([""])}onSaveConfig(){this.updateParametros()}loadParametros(){if(this.parametro=new v.M,this.parametro.id_empresa=this.globalService.getIdEmpresa(),this.parametro.modulo="conta",this.parametro.assinatura="V1.00 19/10/2023",this.parametro.id_usuario=this.globalService.usuario.id,this.parametro.parametro='\n      {\n        "op_ordenacao": 0,\n        "ordenacao": ["Data","Descri\xe7\xe3o"],\n        "op_pesquisar": 1,\n        "pesquisar": ["Data","Descri\xe7\xe3o"],\n        "descricao": "",\n        "page": 1,\n        "new": false,\n        "id_retorno":""\n      }',this.opcoesOrdenacao=(0,l.FO)(this.parametro.getParametro(),"ordenacao"),this.opcoesCampo=(0,l.FO)(this.parametro.getParametro(),"pesquisar"),this.retorno&&null!==this.globalService.estadoFind("feriado")){const o=this.globalService.estadoFind("feriado");if(null!=o){if((0,l.xc)(o.getParametro(),"new")){let e=this.parametro.getParametro();Object(e).id_retorno=(0,l.P0)(o.getParametro(),"id_retorno"),this.parametro.parametro=JSON.stringify(e),this.setPosicaoInclusao()}else this.controlePaginas.setPaginaAtual((0,l.P0)(o.getParametro(),"page")),this.parametro.setParametro(o.getParametro());this.globalService.estadoDelete(o),this.setValues(),this.getFeriadosContador()}}else this.getParametro()}setPosicaoInclusao(){const o=this.parametro.getParametro();Object(o).op_ordenacao=0,Object(o).op_pesquisar=0,Object(o).descricao="",Object(o).new=!0,this.parametro.setParametro(o)}NoValidtouchedOrDirtyCd(o){var e,r,i;return!((null===(e=this.parametros.get(o))||void 0===e?void 0:e.valid)||!(null===(r=this.parametros.get(o))||void 0===r?void 0:r.touched)&&!(null===(i=this.parametros.get(o))||void 0===i?void 0:i.dirty))}isData(){return"Data"==this.parametros.value.campo}onRefresh(){this.parametros.valid?this.getFeriadosContador():(this.parametros.markAllAsTouched(),this.appSnackBar.openSuccessSnackBar("Formul\xe1rio Com Campos Inv\xe1lidos.","OK"))}}return a.\u0275fac=function(o){return new(o||a)(t.Y36(c.qu),t.Y36(D.v),t.Y36(m.F0),t.Y36(m.gz),t.Y36(x.W),t.Y36(q.U),t.Y36(k.u))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-crud-ponte"]],viewQuery:function(o,e){if(1&o&&t.Gf(p.N7,5),2&o){let r;t.iGM(r=t.CRH())&&(e.viewPort=r.first)}},decls:43,vars:9,consts:[[1,"div-barra"],[1,"example-spacer"],[3,"controle","changePage"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Atualizar","matTooltipPosition","above",1,"example-icon",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above","matTooltip","Salvar Par\xe2metros","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Retorno","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above",3,"matTooltip","click"],[1,"parametros"],["autocomplete","off",1,"col-med-4",3,"formGroup"],["field","","appearance","outline",1,"col-max"],["formControlName","ordenacao",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","campo",3,"selectionChange"],["appearance","outline","class","col-max column-span-2",4,"ngIf"],["appearance","outline","class","col-max",4,"ngIf"],[1,"content",3,"itemSize"],[1,"Browse-Scroll"],[1,"coluna-cabec"],[4,"cdkVirtualFor","cdkVirtualForOf"],[3,"value"],["appearance","outline",1,"col-max","column-span-2"],["matInput","","formControlName","filtro","oninput","this.value = this.value.toUpperCase()"],["appearance","outline",1,"col-max"],["matInput","","formControlName","data","mask","00/00/0000","placeholder","dd/mm/aaaa"],[4,"ngIf"],[1,"alinha_centro"],[1,"Browse_Lanc_td"],[1,"alinha_direita"],[1,"acoes"],[3,"BARRA_ATIVIDADES","EXCLUIR","changeOpcao"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-toolbar"),t.TgZ(2,"span",1),t._uU(3,"Pontes: "),t.qZA(),t.TgZ(4,"app-navegator",2),t.NdJ("changePage",function(){return e.onChangePage()}),t.qZA(),t.TgZ(5,"button",3),t.NdJ("click",function(){return e.onRefresh()}),t.TgZ(6,"mat-icon"),t._uU(7,"rotate_right"),t.qZA(),t.qZA(),t.TgZ(8,"button",4),t.NdJ("click",function(){return e.onSaveConfig()}),t.TgZ(9,"mat-icon"),t._uU(10,"brightness_high"),t.qZA(),t.qZA(),t.TgZ(11,"button",5),t.NdJ("click",function(){return e.onHome()}),t.TgZ(12,"mat-icon"),t._uU(13,"home"),t.qZA(),t.qZA(),t.TgZ(14,"button",6),t.NdJ("click",function(){return e.escolha(e.getAcoes().Inclusao)}),t.TgZ(15,"mat-icon"),t._uU(16,"add_circle_outline"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",7),t.TgZ(18,"form",8),t.TgZ(19,"mat-form-field",9),t.TgZ(20,"mat-label"),t._uU(21,"Ordena\xe7\xe3o"),t.qZA(),t.TgZ(22,"mat-select",10),t.NdJ("selectionChange",function(){return e.onChangeParametros()}),t.YNc(23,Q,2,2,"mat-option",11),t.qZA(),t.qZA(),t.TgZ(24,"mat-form-field",9),t.TgZ(25,"mat-label"),t._uU(26,"Pesquisar Por"),t.qZA(),t.TgZ(27,"mat-select",12),t.NdJ("selectionChange",function(){return e.onChangeParametros()}),t.YNc(28,Y,2,2,"mat-option",11),t.qZA(),t.qZA(),t.YNc(29,G,4,0,"mat-form-field",13),t.YNc(30,B,5,1,"mat-form-field",14),t.qZA(),t.qZA(),t.TgZ(31,"cdk-virtual-scroll-viewport",15),t.TgZ(32,"table",16),t.TgZ(33,"tr",17),t.TgZ(34,"th"),t._uU(35,"Data"),t.qZA(),t.TgZ(36,"th"),t._uU(37,"Descri\xe7\xe3o"),t.qZA(),t.TgZ(38,"th"),t._uU(39,"Qtd Usu\xe1rios"),t.qZA(),t.TgZ(40,"th"),t._uU(41,"A\xc7\xd5ES"),t.qZA(),t.qZA(),t.YNc(42,j,15,5,"tr",18),t.qZA(),t.qZA()),2&o&&(t.xp6(4),t.Q6J("controle",e.controlePaginas),t.xp6(10),t.Q6J("matTooltip",e.getTexto().incluir),t.xp6(4),t.Q6J("formGroup",e.parametros),t.xp6(5),t.Q6J("ngForOf",e.opcoesOrdenacao),t.xp6(5),t.Q6J("ngForOf",e.opcoesCampo),t.xp6(1),t.Q6J("ngIf",!e.isData()),t.xp6(1),t.Q6J("ngIf",e.isData()),t.xp6(1),t.Q6J("itemSize",50),t.xp6(11),t.Q6J("cdkVirtualForOf",e.feriados))},directives:[O.Ye,y.J,S.lW,I.gM,U.Hw,c._Y,c.JL,c.sg,h.KE,h.hX,F.gD,c.JJ,c.u,_.sg,_.O5,p.N7,p.xd,p.x0,M.ey,w.Nt,c.Fj,b.hx,h.TO,E.C],styles:['.content[_ngcontent-%COMP%]{height:60%;overflow:auto}.Browse-Scroll[_ngcontent-%COMP%]{border-collapse:collapse;margin-left:auto;margin-right:auto;width:100%;height:inherit}td[_ngcontent-%COMP%]{font-size:small;color:#00f;font-family:"Times New Roman",Times,serif}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2aa}tr[_ngcontent-%COMP%]:hover{background-color:#caa99d}.acoes[_ngcontent-%COMP%]{color:#8b0000;width:100px}.go-up[_ngcontent-%COMP%]{margin-top:-10px}']}),a})();var V=n(9071),$=n(6468),J=n(9267),L=n(1209);function z(a,s){if(1&a){const o=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){return t.CHM(o),t.oxw().escolha(99)}),t.TgZ(1,"mat-icon"),t._uU(2,"add_comment"),t.qZA(),t.qZA()}}function K(a,s){if(1&a){const o=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(o);const r=t.oxw();return r.escolha(r.getAcoes().Inclusao)})("click",function(){t.CHM(o);const r=t.oxw();return r.escolha(r.getAcoes().Inclusao)}),t.TgZ(1,"mat-icon"),t._uU(2,"add_circle_outline"),t.qZA(),t.qZA()}if(2&a){const o=t.oxw();t.Q6J("matTooltip",o.getTexto().incluir)}}function X(a,s){if(1&a&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&a){const o=t.oxw(2);let e;t.xp6(1),t.hij(" ",null==(e=o.cadastro.get("data_ref"))||null==e.errors?null:e.errors.message,"")}}function W(a,s){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"Observa\xe7\xe3o - Tamanho M\xe1ximo 100 letras "),t.qZA())}function tt(a,s){if(1&a){const o=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t.TgZ(2,"div",15),t.TgZ(3,"mat-label",30),t._uU(4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"td"),t.TgZ(6,"div"),t.TgZ(7,"mat-label",30),t._uU(8),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"td"),t.TgZ(10,"div",31),t.TgZ(11,"mat-label",30),t._uU(12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"td",32),t.TgZ(14,"barra-acoes",33),t.NdJ("changeOpcao",function(r){const u=t.CHM(o).$implicit;return t.oxw(3).escolha(r,u)}),t.qZA(),t.qZA(),t.qZA()}if(2&a){const o=s.$implicit;t.xp6(4),t.Oqu(o.data),t.xp6(4),t.Oqu(o.descricao),t.xp6(4),t.Oqu(o.total),t.xp6(2),t.Q6J("BARRA_ATIVIDADES",!1)("EXCLUIR",!1)}}function ot(a,s){if(1&a&&(t.TgZ(0,"div",26),t.TgZ(1,"table",27),t.TgZ(2,"tr",28),t.TgZ(3,"th"),t._uU(4,"Data"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Descri\xe7\xe3o"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Qtd Usu\xe1rios"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"A\xc7\xd5ES"),t.qZA(),t.qZA(),t.YNc(11,tt,15,5,"tr",29),t.qZA(),t.qZA()),2&a){const o=t.oxw(2);t.xp6(11),t.Q6J("cdkVirtualForOf",o.pontes)}}function et(a,s){if(1&a){const o=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"form",13),t.TgZ(2,"div",14),t.TgZ(3,"h3",15),t._uU(4,"GERADOR DE PONTES"),t.qZA(),t.TgZ(5,"div",16),t.TgZ(6,"mat-form-field",17),t.TgZ(7,"mat-label"),t._uU(8,"Data De Refer\xeancia"),t.qZA(),t._UZ(9,"input",18),t.YNc(10,X,2,1,"mat-error",6),t.qZA(),t.TgZ(11,"mat-form-field",19),t.TgZ(12,"mat-label"),t._uU(13,"Descri\xe7\xe3o"),t.qZA(),t._UZ(14,"input",20),t.YNc(15,W,2,0,"mat-error",6),t.qZA(),t.qZA(),t.TgZ(16,"div",21),t.TgZ(17,"button",22),t.NdJ("click",function(){return t.CHM(o),t.oxw().onGravarPontes()}),t._uU(18,"Gravar"),t.qZA(),t.TgZ(19,"button",23),t.NdJ("click",function(){return t.CHM(o),t.oxw().onGerarPontes()}),t._uU(20,"Processar"),t.qZA(),t.TgZ(21,"button",24),t.NdJ("click",function(){return t.CHM(o),t.oxw().onCancelGeracao()}),t._uU(22,"Cancelar"),t.qZA(),t.qZA(),t.qZA(),t._UZ(23,"div",10),t.YNc(24,ot,12,1,"div",25),t.qZA(),t.qZA()}if(2&a){const o=t.oxw();let e;t.xp6(1),t.Q6J("formGroup",o.gerador),t.xp6(9),t.Q6J("ngIf",(null==(e=o.cadastro.get("data_ref"))||null==e.errors?null:e.errors.ValidatorDate)&&o.NoValidtouchedOrDirtyGe("data_ref")),t.xp6(4),t.Q6J("readonly",o.readOnly),t.xp6(1),t.Q6J("ngIf",o.NoValidtouchedOrDirtyGe("descricao")),t.xp6(2),t.Q6J("disabled",o.pontes.length<=0),t.xp6(7),t.Q6J("ngIf",o.pontes.length>0)}}function at(a,s){if(1&a&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&a){const o=t.oxw(2);let e;t.xp6(1),t.hij(" ",null==(e=o.cadastro.get("data"))||null==e.errors?null:e.errors.message,"")}}function rt(a,s){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"Observa\xe7\xe3o - Tamanho M\xe1ximo 100 letras "),t.qZA())}function it(a,s){if(1&a){const o=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){return t.CHM(o),t.oxw(2).onSubmit()}),t._uU(1),t.qZA()}if(2&a){const o=t.oxw(2);t.xp6(1),t.Oqu(o.acao)}}function nt(a,s){if(1&a){const o=t.EpF();t.TgZ(0,"div",34),t.TgZ(1,"form",35),t.TgZ(2,"h3",15),t._uU(3,"PONTE"),t.qZA(),t.TgZ(4,"div",16),t.TgZ(5,"mat-form-field",17),t.TgZ(6,"mat-label"),t._uU(7,"Data"),t.qZA(),t._UZ(8,"input",36),t.YNc(9,at,2,1,"mat-error",6),t.qZA(),t.TgZ(10,"mat-form-field",19),t.TgZ(11,"mat-label"),t._uU(12,"Descri\xe7\xe3o"),t.qZA(),t._UZ(13,"input",20),t.YNc(14,rt,2,0,"mat-error",6),t.qZA(),t.qZA(),t.TgZ(15,"div",21),t.YNc(16,it,2,1,"button",37),t.TgZ(17,"button",24),t.NdJ("click",function(){return t.CHM(o),t.oxw().onPosicaoInicial()}),t._uU(18),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&a){const o=t.oxw();let e;t.xp6(1),t.Q6J("formGroup",o.cadastro),t.xp6(7),t.Q6J("readonly",o.readOnly),t.xp6(1),t.Q6J("ngIf",(null==(e=o.cadastro.get("data"))||null==e.errors?null:e.errors.ValidatorDate)&&o.NoValidtouchedOrDirtyCd("data")),t.xp6(4),t.Q6J("readonly",o.readOnly),t.xp6(1),t.Q6J("ngIf",o.NoValidtouchedOrDirtyCd("descricao")),t.xp6(2),t.Q6J("ngIf",3!=o.idAcao),t.xp6(2),t.Oqu(o.getLabelCancel())}}function st(a,s){if(1&a){const o=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t.TgZ(2,"div",15),t.TgZ(3,"mat-label",30),t._uU(4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(5,"td"),t.TgZ(6,"div"),t.TgZ(7,"mat-label",30),t._uU(8),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"td"),t.TgZ(10,"div",31),t.TgZ(11,"mat-label",30),t._uU(12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"td",32),t.TgZ(14,"barra-acoes",33),t.NdJ("changeOpcao",function(r){const u=t.CHM(o).$implicit;return t.oxw(2).escolha(r,u)}),t.qZA(),t.qZA(),t.qZA()}if(2&a){const o=s.$implicit;t.xp6(4),t.Oqu(o.data),t.xp6(4),t.Oqu(o.descricao),t.xp6(4),t.Oqu(o.total),t.xp6(2),t.Q6J("BARRA_ATIVIDADES",!1)("EXCLUIR",!1)}}function lt(a,s){if(1&a&&(t.TgZ(0,"div",38),t.TgZ(1,"table",27),t.TgZ(2,"tr",28),t.TgZ(3,"th"),t._uU(4,"Data"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Descri\xe7\xe3o"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Qtd Usu\xe1rios"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"A\xc7\xd5ES"),t.qZA(),t.qZA(),t.YNc(11,st,15,5,"tr",29),t.qZA(),t.qZA()),2&a){const o=t.oxw();t.xp6(11),t.Q6J("cdkVirtualForOf",o.pontes)}}function ct(a,s){1&a&&(t.TgZ(0,"div",39),t.TgZ(1,"h5"),t._uU(2,"Nenhuma Ponte Cadastrado!"),t.qZA(),t.qZA())}const ut=[{path:"",redirectTo:"pontes",pathMatch:"full"},{path:"pontes",component:H},{path:"ponte/:id_empresa/:data/:acao",component:(()=>{class a{constructor(o,e,r,i,u,g,A){this.formBuilder=o,this.globalService=e,this.usuariosService=r,this.appSnackBar=i,this.route=u,this.router=g,this.decimalPipe=A,this.ponte=new V.u,this.pontes=[],this.acao="Sem Defini\xe7\xe3o",this.idAcao=d.I.Inclusao,this.readOnly=!0,this.labelCadastro="",this.id_empresa=0,this.id_projeto=0,this.lsUsuarios=[],this.displayPontes=[],this.inscricaoRota=u.params.subscribe(f=>{this.id_empresa=f.id_empresa,this.id_projeto=f.id_projeto,this.idAcao=f.acao}),this.setAcao(this.idAcao),this.gerador=o.group({data_ref:[{value:0},[(0,Z.K)(!0)]],descricao:[{value:""},[(0,J.S)(0,50,!1)]]}),this.setValueGerador(),this.cadastro=o.group({data:[{value:""},[(0,Z.K)(!0)]],descricao:[{value:""},[(0,J.S)(0,50,!1)]]}),this.setValueCadastro()}ngOnInit(){this.getAuditores()}ngOnDestroy(){var o,e,r,i,u;null===(o=this.inscricaoCrud)||void 0===o||o.unsubscribe(),null===(e=this.inscricaoRota)||void 0===e||e.unsubscribe(),null===(r=this.inscricaoGetPontes)||void 0===r||r.unsubscribe(),null===(i=this.inscricaoGetPonte)||void 0===i||i.unsubscribe(),null===(u=this.inscricaoAuditor)||void 0===u||u.unsubscribe()}setValueGerador(){this.gerador.setValue({data_ref:this.ponte.data,descricao:this.ponte.descricao})}setValueCadastro(){this.cadastro.setValue({data:this.ponte.data,descricao:this.ponte.descricao})}getAuditores(){const o=new $.w,e=this.usuariosService.getGruposCoordenador(),r=this.usuariosService.getGruposAuditor();o.id_empresa=this.globalService.id_empresa,e.forEach(i=>{o.grupo.push(i)}),r.forEach(i=>{o.grupo.push(i)}),o.ativo="S",o.timer="S",o.data="08/09/2023",o.orderby="Raz\xe3o",this.globalService.setSpin(!0),this.inscricaoAuditor=this.usuariosService.getusuarios_01_Ponte(o).subscribe(i=>{this.globalService.setSpin(!1),this.lsUsuarios=i},i=>{this.globalService.setSpin(!1),this.appSnackBar.openFailureSnackBar(`${i.error.tabela} - ${i.error.erro} - ${i.error.message}`,"OK")})}getAcoes(){return d.I}escolha(o,e){void 0!==e&&(this.ponte=e,this.setValueCadastro(),this.idAcao=o,this.setAcao(o)),o==d.I.Inclusao&&(this.ponte=new V.u,this.ponte.id_empresa=this.globalService.id_empresa,this.ponte.id_tipo=2,this.ponte.id_nivel=0,this.setValueCadastro(),this.cadastro.markAsUntouched(),this.idAcao=o,this.setAcao(o)),99==o&&(this.idAcao=o,this.setAcao(this.idAcao),this.setValueGerador())}executaAcao(){}setAcao(o){if(o>90)99==o&&(this.acao="Gerar",this.labelCadastro="T\xedtulos -  Gerador De Parcelas"),98==o&&(this.acao="Gravar",this.labelCadastro="T\xedtulos -  Cadastro De Parcelas");else switch(+o){case d.I.Inclusao:this.acao="Gravar",this.labelCadastro="T\xedtulos -  Inclus\xe3o.",this.readOnly=!1;break;case d.I.Edicao:this.acao="Gravar",this.labelCadastro="T\xedtulos -  Altera\xe7\xe3o.",this.readOnly=!1;break;case d.I.Consulta:this.acao="Voltar",this.labelCadastro="T\xedtulos -  Consulta.",this.readOnly=!0;break;case d.I.Exclusao:this.acao="Excluir",this.labelCadastro="T\xedtulos -  Exclus\xe3o.",this.readOnly=!0}}getTexto(){return l.fd}onRetorno(){this.router.navigate(["/pontes/pontes"])}onHome(){this.router.navigate([""])}onPosicaoInicial(){}onGerarPontes(){}onGravarPontes(){this.gerador.valid?this.saveParcelas():(this.gerador.markAllAsTouched(),this.appSnackBar.openSuccessSnackBar("Formul\xe1rio Com Campos Inv\xe1lidos.","OK"))}saveParcelas(){}loadPontes(){}onSubmit(){this.cadastro.valid||this.idAcao==d.I.Exclusao?this.executaAcao():(this.cadastro.markAllAsTouched(),this.appSnackBar.openSuccessSnackBar("Formul\xe1rio Com Campos Inv\xe1lidos.","OK"))}onCancelGeracao(){this.pontes=[],this.onPosicaoInicial()}getLabelCancel(){return this.idAcao==d.I.Consulta?"Voltar":"Cancelar"}NoValidtouchedOrDirtyCd(o){var e,r,i;return!((null===(e=this.cadastro.get(o))||void 0===e?void 0:e.valid)||!(null===(r=this.cadastro.get(o))||void 0===r?void 0:r.touched)&&!(null===(i=this.cadastro.get(o))||void 0===i?void 0:i.dirty))}NoValidtouchedOrDirtyGe(o){var e,r,i;return!((null===(e=this.gerador.get(o))||void 0===e?void 0:e.valid)||!(null===(r=this.gerador.get(o))||void 0===r?void 0:r.touched)&&!(null===(i=this.gerador.get(o))||void 0===i?void 0:i.dirty))}getVisiblesAuditores(){return this.displayPontes.filter(o=>null==o.ponte||o.show)}expandeContrair(o){o.expandido=!o.expandido}}return a.\u0275fac=function(o){return new(o||a)(t.Y36(c.qu),t.Y36(q.U),t.Y36(L.J),t.Y36(x.W),t.Y36(m.gz),t.Y36(m.F0),t.Y36(_.JJ))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-ponte-view"]],decls:17,vars:6,consts:[[1,"div-barra"],[1,"example-spacer"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","P\xe1gina Inicial","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above","matTooltip","Inclus\xe3o De Pontes","matTooltipPosition","above",3,"click",4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Retorno","matTooltipPosition","above",1,"example-icon",3,"click"],[4,"ngIf"],["class","box",4,"ngIf"],["class","col-max box",4,"ngIf"],["class","col-max",4,"ngIf"],[1,"rodape"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above","matTooltip","Inclus\xe3o De Pontes","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above",3,"matTooltip","click"],["autocomplete","off",3,"formGroup"],[1,"box","padding"],[1,"alinha_centro"],[1,"col-med-3"],["appearance","outline",1,"col-max"],["matInput","","formControlName","data_ref","mask","00/00/0000","placeholder","dd/mm/aaaa"],["appearance","outline",1,"column-span-2"],["matInput","","formControlName","descricao","oninput","this.value = this.value.toUpperCase()",3,"readonly"],[1,"button-container-right"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"],["class","col-max box padding",4,"ngIf"],[1,"col-max","box","padding"],[1,"Browse-Scroll"],[1,"coluna-cabec"],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"Browse_Lanc_td"],[1,"alinha_direita"],[1,"acoes"],[3,"BARRA_ATIVIDADES","EXCLUIR","changeOpcao"],[1,"box"],["autocomplete","off",1,"padding",3,"formGroup"],["matInput","","formControlName","data","mask","00/00/0000","placeholder","dd/mm/aaaa",3,"readonly"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],[1,"col-max","box"],[1,"col-max"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-toolbar"),t.TgZ(2,"span",1),t._uU(3,"Ponte:"),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){return e.onHome()}),t.TgZ(5,"mat-icon"),t._uU(6,"home"),t.qZA(),t.qZA(),t.YNc(7,z,3,0,"button",3),t.YNc(8,K,3,1,"button",4),t.TgZ(9,"button",5),t.NdJ("click",function(){return e.onRetorno()}),t.TgZ(10,"mat-icon"),t._uU(11,"arrow_back"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(12,et,25,6,"div",6),t.YNc(13,nt,19,7,"div",7),t.YNc(14,lt,12,1,"div",8),t.YNc(15,ct,3,0,"div",9),t._UZ(16,"div",10)),2&o&&(t.xp6(7),t.Q6J("ngIf",0==e.pontes.length),t.xp6(1),t.Q6J("ngIf",97==e.idAcao),t.xp6(4),t.Q6J("ngIf",99==e.idAcao),t.xp6(1),t.Q6J("ngIf",e.idAcao<=90),t.xp6(1),t.Q6J("ngIf",e.pontes.length>0&&97==e.idAcao),t.xp6(1),t.Q6J("ngIf",0==e.pontes.length&&97==e.idAcao))},directives:[O.Ye,S.lW,I.gM,U.Hw,_.O5,c._Y,c.JL,c.sg,h.KE,h.hX,w.Nt,c.Fj,b.hx,c.JJ,c.u,h.TO,p.x0,E.C],styles:["tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2aa}tr[_ngcontent-%COMP%]:hover{background-color:#caa99d}.acoes[_ngcontent-%COMP%]{color:#8b0000;width:100px}.rodape[_ngcontent-%COMP%]{width:100%;height:25px}.padding[_ngcontent-%COMP%]{padding:5px}.example-section[_ngcontent-%COMP%]{margin:12px 0}.example-margin[_ngcontent-%COMP%]{margin:0 12px}ul[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px}li[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2aa}li[_ngcontent-%COMP%]:hover{background-color:#caa99d}h1[_ngcontent-%COMP%]{text-align:center;font-family:Arial,Helvetica,sans-serif;font-size:x-large;color:#00f}"]}),a})()}];let dt=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[m.Bz.forChild(ut)],m.Bz]}),a})();var mt=n(4589),pt=n(4466);let ht=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[_.ez,dt,mt.q,c.u5,p.Cl,c.UX,pt.m,b.yI.forChild()]]}),a})()}}]);