"use strict";(self.webpackChunktimer=self.webpackChunktimer||[]).push([[119],{2119:(ba,y,s)=>{s.r(y),s.d(y,{UsuarioModule:()=>Ta});var a=s(7716);let S=(()=>{class t{canActivate(r,o){return console.log("route - ACAO",r.params.acao),!0}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=s(8583),A=s(8239),g=s(7438),l=s(3679),n=s(3032),m=s(9267),G=s(2546),F=s(2401),$=s(3e3),U=s(1209),I=s(9189),O=s(4590),z=s(103),f=s(4655),C=s(789),N=s(2522),_=s(8295),J=s(1095),E=s(6627),V=s(9983),Q=s(2559),Y=s(7441),k=s(2458);function D(t,e){if(1&t){const r=a.EpF();a.TgZ(0,"button",27),a.NdJ("click",function(){return a.CHM(r),a.oxw().onSubmit()}),a.TgZ(1,"mat-icon"),a._uU(2,"check"),a.qZA(),a._uU(3),a.qZA()}if(2&t){const r=a.oxw();a.xp6(3),a.hij(" ",r.acao," ")}}function B(t,e){if(1&t&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&t){const r=a.oxw();let o;a.xp6(1),a.Oqu(null==(o=r.formulario.get("razao"))||null==o.errors?null:o.errors.message)}}function j(t,e){if(1&t&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&t){const r=a.oxw();let o;a.xp6(1),a.Oqu(null==(o=r.formulario.get("cadastr"))||null==o.errors?null:o.errors.message)}}function M(t,e){1&t&&(a.TgZ(0,"mat-error"),a._uU(1,"Fantasia m\xe1ximo 25 letras"),a.qZA())}function L(t,e){if(1&t&&(a.TgZ(0,"mat-option",31),a._uU(1),a.qZA()),2&t){const r=e.$implicit;a.Q6J("value",r.id),a.xp6(1),a.hij(" ",r.grupo," ")}}function P(t,e){if(1&t&&(a.TgZ(0,"mat-form-field",28),a.TgZ(1,"mat-label"),a._uU(2,"Grupo Do Usu\xe1rio"),a.qZA(),a.TgZ(3,"mat-select",29),a.YNc(4,L,2,2,"mat-option",30),a.qZA(),a.qZA()),2&t){const r=a.oxw();a.xp6(4),a.Q6J("ngForOf",r.grupos)}}function R(t,e){if(1&t&&(a.TgZ(0,"mat-form-field",28),a.TgZ(1,"mat-label"),a._uU(2,"Grupo"),a.qZA(),a._UZ(3,"input",32),a.qZA()),2&t){const r=a.oxw();a.xp6(3),a.Q6J("readonly",r.readOnly)}}function K(t,e){if(1&t&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&t){const r=a.oxw();let o;a.xp6(1),a.Oqu(null==(o=r.formulario.get("cnpj_cpf"))||null==o.errors?null:o.errors.message)}}function H(t,e){if(1&t&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&t){const r=a.oxw();let o;a.xp6(1),a.Oqu(null==(o=r.formulario.get("rua"))||null==o.errors?null:o.errors.message)}}function X(t,e){if(1&t&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&t){const r=a.oxw();let o;a.xp6(1),a.Oqu(null==(o=r.formulario.get("nro"))||null==o.errors?null:o.errors.message)}}function W(t,e){if(1&t&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&t){const r=a.oxw();let o;a.xp6(1),a.Oqu(null==(o=r.formulario.get("complemento"))||null==o.errors?null:o.errors.message)}}function aa(t,e){if(1&t&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&t){const r=a.oxw();let o;a.xp6(1),a.Oqu(null==(o=r.formulario.get("bairro"))||null==o.errors?null:o.errors.message)}}function oa(t,e){if(1&t&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&t){const r=a.oxw();let o;a.xp6(1),a.Oqu(null==(o=r.formulario.get("cidade"))||null==o.errors?null:o.errors.message)}}function ra(t,e){if(1&t&&(a.TgZ(0,"mat-option",31),a._uU(1),a.qZA()),2&t){const r=e.$implicit;a.Q6J("value",r.sigla),a.xp6(1),a.AsE(" ",r.sigla,"-",r.nome," ")}}function ta(t,e){if(1&t&&(a.TgZ(0,"mat-form-field",33),a.TgZ(1,"mat-label"),a._uU(2,"Estado:"),a.qZA(),a.TgZ(3,"mat-select",34),a.YNc(4,ra,2,3,"mat-option",30),a.qZA(),a.qZA()),2&t){const r=a.oxw();a.xp6(4),a.Q6J("ngForOf",r.ufs)}}function ea(t,e){if(1&t&&(a.TgZ(0,"mat-form-field",33),a.TgZ(1,"mat-label"),a._uU(2,"Estado:"),a.qZA(),a._UZ(3,"input",35),a.qZA()),2&t){const r=a.oxw();a.xp6(3),a.Q6J("readonly",r.readOnly)}}function ia(t,e){if(1&t&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&t){const r=a.oxw();let o;a.xp6(1),a.Oqu(null==(o=r.formulario.get("cep"))||null==o.errors?null:o.errors.message)}}function sa(t,e){1&t&&(a.TgZ(0,"mat-error"),a._uU(1,"E-Mail Inv\xe1lido!"),a.qZA())}function ua(t,e){if(1&t&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&t){const r=a.oxw();a.xp6(1),a.Oqu(r.getMensafield("tel1"))}}function la(t,e){if(1&t&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&t){const r=a.oxw();a.xp6(1),a.Oqu(r.getMensafield("tel2"))}}let na=(()=>{class t{constructor(r,o,i,c,u,p,Z,v){this.formBuilder=r,this.usuariosService=o,this.grupoUserService=i,this.globalService=c,this.estadosSrv=u,this.route=p,this.router=Z,this.appSnackBar=v,this.usuario=new g.g,this.grupos=[],this.acao="Sem Defini\xe7\xe3o",this.idAcao=n.I.Inclusao,this.readOnly=!0,this.durationInSeconds=2,this.labelCadastro="",this.ufs=[],this.formulario=r.group({id:[{value:"",disabled:!0}],razao:[{value:""},[(0,m.S)(3,40,!0)]],cadastr:[{value:""},[(0,F.K)(!0)]],cnpj_cpf:[{value:""},[(0,$.x)(!1)]],senha:[{value:""},[l.kI.required,l.kI.minLength(3),l.kI.maxLength(25)]],grupo:[{value:""}],grupo_:[{value:""}],rua:[{value:""},[(0,m.S)(3,80,!1)]],nro:[{value:""},[(0,m.S)(1,10,!1)]],complemento:[{value:""},[(0,m.S)(0,30)]],bairro:[{value:""},[(0,m.S)(3,40,!1)]],cidade:[{value:""},[(0,m.S)(3,40,!1)]],uf:[{value:""},[(0,m.S)(2,2,!1)]],uf_:[{value:""}],cep:[{value:""},[(0,G.l)(!1)]],tel1:[{value:""},[(0,m.S)(0,23,!1)]],tel2:[{value:""},[(0,m.S)(0,23)]],email:[{value:""},[l.kI.required,l.kI.email]]}),this.usuario=new g.g,this.grupos=[],this.inscricaoRota=p.params.subscribe(d=>{this.usuario.id_empresa=d.id_empresa,this.usuario.id=d.id,this.usuario.senha="",this.usuario.grupo=1,this.idAcao=d.acao,this.setAcao(d.acao)})}ngOnInit(){this.idAcao==n.I.Inclusao?(this.usuario=new g.g,this.usuario.id_empresa=1,this.usuario.grupo=1,this.setValue()):this.getUsuario(),this.getUfs(),this.getGrupos()}ngOnDestroy(){var r,o,i,c,u;null===(r=this.incricaoGetUsuario)||void 0===r||r.unsubscribe(),null===(o=this.inscricaoGetGrupo)||void 0===o||o.unsubscribe(),null===(i=this.inscricaoRota)||void 0===i||i.unsubscribe(),null===(c=this.inscricaoAcao)||void 0===c||c.unsubscribe(),null===(u=this.inscricaoUf)||void 0===u||u.unsubscribe()}onSubmit(){this.formulario.valid?this.executaAcao():this.appSnackBar.openSuccessSnackBar("Formul\xe1rio Com Campos Inv\xe1lidos.","OK")}onCancel(){this.router.navigate(this.idAcao==n.I.Atualizacao?["/"]:["/usuarios"])}getUfs(){this.inscricaoUf=this.estadosSrv.getEstados().subscribe(r=>{this.ufs=r},r=>{this.appSnackBar.openFailureSnackBar(`Pesquisa Cadastrado De Estados ${r.error.tabela} - ${r.error.erro} - ${r.error.message}`,"OK")})}getUsuario(){this.incricaoGetUsuario=this.usuariosService.getUsuario(this.usuario.id_empresa,this.usuario.id).subscribe(r=>{this.usuario=r,this.setValue()},r=>{this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Usu\xe1rios ${r.error.tabela} - ${r.error.erro} - ${r.error.message}`,"OK")})}setReadOnly(r){}getGrupos(){this.idAcao==n.I.Consulta||this.idAcao==n.I.Exclusao||(this.inscricaoGetGrupo=this.grupoUserService.getGrupoUsers().subscribe(r=>{this.grupos=r},r=>{this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Grupos ${r.error.tabela} - ${r.error.erro} - ${r.error.message}`,"OK")}))}setValue(){this.formulario.setValue({id:this.usuario.id,razao:this.usuario.razao,cadastr:this.usuario.cadastr,senha:this.usuario.senha,grupo:this.usuario.grupo,grupo_:this.idAcao==n.I.Consulta||this.idAcao==n.I.Exclusao?this.usuario.gru_descricao:"",cnpj_cpf:this.usuario.cnpj_cpf,rua:this.usuario.rua,nro:this.usuario.nro,complemento:this.usuario.complemento,bairro:this.usuario.bairro,cidade:this.usuario.cidade,uf:this.usuario.uf,uf_:this.idAcao==n.I.Consulta||this.idAcao==n.I.Exclusao?this.usuario.uf:"",cep:this.usuario.cep,tel1:this.usuario.tel1,tel2:this.usuario.tel2,email:this.usuario.email})}getLabelCancel(){return this.idAcao==n.I.Consulta?"Voltar":"Cancelar"}setAcao(r){switch(+r){case n.I.Inclusao:this.acao="Gravar",this.labelCadastro="Usu\xe1rios - Inclus\xe3o.",this.readOnly=!1;break;case n.I.Edicao:this.acao="Gravar",this.labelCadastro="Usu\xe1rios - Altera\xe7\xe3o.",this.readOnly=!1;break;case n.I.Consulta:this.acao="Voltar",this.labelCadastro="Usu\xe1rios - Consulta.",this.readOnly=!0;break;case n.I.Exclusao:this.acao="Excluir",this.labelCadastro="Usu\xe1rios - Exclus\xe3o.",this.readOnly=!0;break;case n.I.Atualizacao:this.acao="Gravar",this.labelCadastro="Usu\xe1rios - Atualiza\xe7\xe3o",this.readOnly=!1}}executaAcao(){var r=this;switch(this.usuario.razao=this.formulario.value.razao,this.usuario.cnpj_cpf=this.formulario.value.cnpj_cpf,this.usuario.cadastr=this.formulario.value.cadastr,this.usuario.rua=this.formulario.value.rua,this.usuario.nro=this.formulario.value.nro,this.usuario.complemento=this.formulario.value.complemento,this.usuario.bairro=this.formulario.value.bairro,this.usuario.cidade=this.formulario.value.cidade,this.usuario.uf=this.formulario.value.uf,this.usuario.cep=this.formulario.value.cep,this.usuario.tel1=this.formulario.value.tel1,this.usuario.tel2=this.formulario.value.tel2,this.usuario.email=this.formulario.value.email,this.usuario.senha=this.formulario.value.senha,this.usuario.pasta=this.formulario.value.pasta,this.usuario.grupo=this.formulario.value.grupo,+this.idAcao){case n.I.Inclusao:this.inscricaoAcao=this.usuariosService.UsuarioInsert(this.usuario).subscribe(function(){var o=(0,A.Z)(function*(i){r.onCancel()});return function(i){return o.apply(this,arguments)}}(),o=>{this.appSnackBar.openFailureSnackBar(`Erro Na INclus\xe3o ${o.error.tabela} - ${o.error.erro} - ${o.error.message}`,"OK")});break;case n.I.Edicao:this.inscricaoAcao=this.usuariosService.UsuarioUpdate(this.usuario).subscribe(function(){var o=(0,A.Z)(function*(i){r.usuario.id==r.globalService.getUsuario().id?(r.globalService.setUsuario(new g.g),r.globalService.setLogado(!1)):r.onCancel()});return function(i){return o.apply(this,arguments)}}(),o=>{this.appSnackBar.openFailureSnackBar(`Erro Na Altera\xe7\xe3o ${o.error.tabela} - ${o.error.erro} - ${o.error.message}`,"OK")});break;case n.I.Atualizacao:this.inscricaoAcao=this.usuariosService.UsuarioUpdate(this.usuario).subscribe(function(){var o=(0,A.Z)(function*(i){r.globalService.setUsuario(new g.g),r.globalService.setLogado(!1)});return function(i){return o.apply(this,arguments)}}(),o=>{console.log("Error",o.error),this.appSnackBar.openFailureSnackBar(`Erro Na Altera\xe7\xe3o ${o.error.tabela} - ${o.error.erro} - ${o.error.message}`,"OK")});break;case n.I.Exclusao:this.inscricaoAcao=this.usuariosService.UsuarioDelete(this.usuario.id_empresa,this.usuario.id).subscribe(function(){var o=(0,A.Z)(function*(i){r.onCancel()});return function(i){return o.apply(this,arguments)}}(),o=>{this.appSnackBar.openFailureSnackBar(`Erro Na Exclusao ${o.error.tabela} - ${o.error.erro} - ${o.error.message}`,"OK")})}}delay(r){return new Promise(o=>setTimeout(o,r))}getAcoes(){return n.I}touchedOrDirty(r){var o,i;return!(!(null===(o=this.formulario.get(r))||void 0===o?void 0:o.touched)&&!(null===(i=this.formulario.get(r))||void 0===i?void 0:i.dirty))}getValidfield(r){var o,i;return(null===(i=null===(o=this.formulario.get(r))||void 0===o?void 0:o.errors)||void 0===i?void 0:i.ValidatorStringLen)&&this.touchedOrDirty(r)}getMensafield(r){var o,i;return null===(i=null===(o=this.formulario.get(r))||void 0===o?void 0:o.errors)||void 0===i?void 0:i.message}setEmailReadOnly(){return 5==this.idAcao||this.readOnly}}return t.\u0275fac=function(r){return new(r||t)(a.Y36(l.qu),a.Y36(U.J),a.Y36(I.c),a.Y36(O.U),a.Y36(z.V),a.Y36(f.gz),a.Y36(f.F0),a.Y36(C.W))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-usuario-view"]],decls:91,vars:37,consts:[[1,"example-spacer"],[1,"button-container-right"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],["autocomplete","off",3,"formGroup"],[1,"col-med-4"],["appearance","outline",1,"col-max"],["matInput","","formControlName","id"],["appearance","outline",1,"col-max","column-span-2"],["matInput","","formControlName","razao","oninput","this.value = this.value.toUpperCase()","autofocus","",3,"readonly"],[4,"ngIf"],["matInput","","formControlName","cadastr","mask","00/00/0000","placeholder","21/11/1987","readonly","true"],["matInput","","formControlName","senha",3,"readonly"],["field","","appearance","outline","class","col-max column-span-2",4,"ngIf"],["matInput","","formControlName","cnpj_cpf","mask","00.000.000/0000-00||000.000.000-00",3,"dropSpecialCharacters","readonly"],[1,"col-med-3"],["matInput","","formControlName","rua","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","nro","oninput","this.value = this.value.toUpperCase()",3,"readonly"],[1,"col-med-1"],["matInput","","formControlName","complemento","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","bairro","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["matInput","","formControlName","cidade","oninput","this.value = this.value.toUpperCase()",3,"readonly"],["field","","appearance","outline","class","col-max",4,"ngIf"],["matInput","","formControlName","cep","mask","99999-999",3,"dropSpecialCharacters","readonly"],["matInput","","formControlName","email",3,"readonly"],["matInput","","formControlName","tel1","mask","(00) 0 0000-0000||(00) 0000-0000",3,"dropSpecialCharacters","readonly"],["matInput","","formControlName","tel2","mask","(00) 0 0000-0000||(00) 0000-0000",3,"dropSpecialCharacters","readonly"],["mat-raised-button","","color","primary",3,"click"],["field","","appearance","outline",1,"col-max","column-span-2"],["formControlName","grupo"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","formControlName","grupo_",3,"readonly"],["field","","appearance","outline",1,"col-max"],["formControlName","uf"],["matInput","","formControlName","uf_",3,"readonly"]],template:function(r,o){if(1&r&&(a.TgZ(0,"p"),a.TgZ(1,"mat-toolbar"),a.TgZ(2,"span",0),a.TgZ(3,"mat-label"),a._uU(4),a.qZA(),a.qZA(),a.TgZ(5,"div",1),a.YNc(6,D,4,1,"button",2),a.TgZ(7,"button",3),a.NdJ("click",function(){return o.onCancel()}),a.TgZ(8,"mat-icon"),a._uU(9,"cancel"),a.qZA(),a._uU(10),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(11,"form",4),a.TgZ(12,"div",5),a.TgZ(13,"mat-form-field",6),a.TgZ(14,"mat-label"),a._uU(15,"C\xd3DIGO"),a.qZA(),a._UZ(16,"input",7),a.qZA(),a.TgZ(17,"mat-form-field",8),a.TgZ(18,"mat-label"),a._uU(19,"Raz\xe3o Social"),a.qZA(),a._UZ(20,"input",9),a.YNc(21,B,2,1,"mat-error",10),a.qZA(),a.TgZ(22,"mat-form-field",6),a.TgZ(23,"mat-label"),a._uU(24,"Cadastro"),a.qZA(),a._UZ(25,"input",11),a.YNc(26,j,2,1,"mat-error",10),a.qZA(),a.qZA(),a.TgZ(27,"div",5),a.TgZ(28,"mat-form-field",6),a.TgZ(29,"mat-label"),a._uU(30,"Senha"),a.qZA(),a._UZ(31,"input",12),a.YNc(32,M,2,0,"mat-error",10),a.qZA(),a.YNc(33,P,5,1,"mat-form-field",13),a.YNc(34,R,4,1,"mat-form-field",13),a.TgZ(35,"mat-form-field",6),a.TgZ(36,"mat-label"),a._uU(37,"CNPJ/CPF"),a.qZA(),a._UZ(38,"input",14),a.YNc(39,K,2,1,"mat-error",10),a.qZA(),a.qZA(),a.TgZ(40,"div",15),a.TgZ(41,"mat-form-field",8),a.TgZ(42,"mat-label"),a._uU(43,"Endere\xe7o:"),a.qZA(),a._UZ(44,"input",16),a.YNc(45,H,2,1,"mat-error",10),a.qZA(),a.TgZ(46,"mat-form-field",6),a.TgZ(47,"mat-label"),a._uU(48,"N\xfamero"),a.qZA(),a._UZ(49,"input",17),a.YNc(50,X,2,1,"mat-error",10),a.qZA(),a.qZA(),a.TgZ(51,"div",18),a.TgZ(52,"mat-form-field",6),a.TgZ(53,"mat-label"),a._uU(54,"Complemento:"),a.qZA(),a._UZ(55,"input",19),a.YNc(56,W,2,1,"mat-error",10),a.qZA(),a.qZA(),a.TgZ(57,"div",15),a.TgZ(58,"mat-form-field",6),a.TgZ(59,"mat-label"),a._uU(60,"Bairro:"),a.qZA(),a._UZ(61,"input",20),a.YNc(62,aa,2,1,"mat-error",10),a.qZA(),a.TgZ(63,"mat-form-field",6),a.TgZ(64,"mat-label"),a._uU(65,"Cidade:"),a.qZA(),a._UZ(66,"input",21),a.YNc(67,oa,2,1,"mat-error",10),a.qZA(),a.YNc(68,ta,5,1,"mat-form-field",22),a.YNc(69,ea,4,1,"mat-form-field",22),a.TgZ(70,"mat-form-field",6),a.TgZ(71,"mat-label"),a._uU(72,"CEP:"),a.qZA(),a._UZ(73,"input",23),a.YNc(74,ia,2,1,"mat-error",10),a.qZA(),a.qZA(),a.TgZ(75,"div",15),a.TgZ(76,"mat-form-field",6),a.TgZ(77,"mat-label"),a._uU(78,"E-Mail:"),a.qZA(),a._UZ(79,"input",24),a.YNc(80,sa,2,0,"mat-error",10),a.qZA(),a.TgZ(81,"mat-form-field",6),a.TgZ(82,"mat-label"),a._uU(83,"Telefone 1:"),a.qZA(),a._UZ(84,"input",25),a.YNc(85,ua,2,1,"mat-error",10),a.qZA(),a.TgZ(86,"mat-form-field",6),a.TgZ(87,"mat-label"),a._uU(88,"Telefone 2:"),a.qZA(),a._UZ(89,"input",26),a.YNc(90,la,2,1,"mat-error",10),a.qZA(),a.qZA(),a.qZA()),2&r){let i,c,u,p,Z,v,d,b,x,q,w;a.xp6(4),a.Oqu(o.labelCadastro),a.xp6(2),a.Q6J("ngIf",3!=o.idAcao),a.xp6(4),a.hij(" ",o.getLabelCancel()," "),a.xp6(1),a.Q6J("formGroup",o.formulario),a.xp6(9),a.Q6J("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(i=o.formulario.get("razao"))||null==i.errors?null:i.errors.ValidatorStringLen)&&o.touchedOrDirty("razao")),a.xp6(5),a.Q6J("ngIf",(null==(c=o.formulario.get("cadastr"))||null==c.errors?null:c.errors.ValidatorDate)&&o.touchedOrDirty("cadastr")),a.xp6(5),a.Q6J("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf","INVALID"==(null==(u=o.formulario.get("senha"))?null:u.status)&&o.touchedOrDirty("senha")),a.xp6(1),a.Q6J("ngIf",o.idAcao!=o.getAcoes().Consulta&&o.idAcao!=o.getAcoes().Exclusao&&o.idAcao!=o.getAcoes().Atualizacao),a.xp6(1),a.Q6J("ngIf",o.idAcao==o.getAcoes().Consulta||o.idAcao==o.getAcoes().Exclusao),a.xp6(4),a.Q6J("dropSpecialCharacters",!0)("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(p=o.formulario.get("cnpj_cpf"))||null==p.errors?null:p.errors.ValidadorCnpjCpf)&&o.touchedOrDirty("cnpj_cpf")),a.xp6(5),a.Q6J("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(Z=o.formulario.get("rua"))||null==Z.errors?null:Z.errors.ValidatorStringLen)&&o.touchedOrDirty("rua")),a.xp6(4),a.Q6J("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(v=o.formulario.get("nro"))||null==v.errors?null:v.errors.ValidatorStringLen)&&o.touchedOrDirty("nro")),a.xp6(5),a.Q6J("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(d=o.formulario.get("complemento"))||null==d.errors?null:d.errors.ValidatorStringLen)&&o.touchedOrDirty("complemento")),a.xp6(5),a.Q6J("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(b=o.formulario.get("bairro"))||null==b.errors?null:b.errors.ValidatorStringLen)&&o.touchedOrDirty("bairro")),a.xp6(4),a.Q6J("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(x=o.formulario.get("cidade"))||null==x.errors?null:x.errors.ValidatorStringLen)&&o.touchedOrDirty("cidade")),a.xp6(1),a.Q6J("ngIf",o.idAcao!=o.getAcoes().Consulta&&o.idAcao!=o.getAcoes().Exclusao),a.xp6(1),a.Q6J("ngIf",o.idAcao==o.getAcoes().Consulta||o.idAcao==o.getAcoes().Exclusao),a.xp6(4),a.Q6J("dropSpecialCharacters",!0)("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",(null==(q=o.formulario.get("cep"))||null==q.errors?null:q.errors.ValidatorCep)&&o.touchedOrDirty("cep")),a.xp6(5),a.Q6J("readonly",o.setEmailReadOnly()),a.xp6(1),a.Q6J("ngIf","INVALID"==(null==(w=o.formulario.get("email"))?null:w.status)&&o.touchedOrDirty("email")),a.xp6(4),a.Q6J("dropSpecialCharacters",!0)("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",o.getValidfield("tel1")),a.xp6(4),a.Q6J("dropSpecialCharacters",!0)("readonly",o.readOnly),a.xp6(1),a.Q6J("ngIf",o.getValidfield("tel2"))}},directives:[N.Ye,_.hX,h.O5,J.lW,E.Hw,l._Y,l.JL,l.sg,_.KE,V.Nt,l.Fj,l.JJ,l.u,Q.hx,_.TO,Y.gD,h.sg,k.ey],styles:[".button-container-right[_ngcontent-%COMP%]{display:flex;justify-content:right;height:min-content;width:100%}.button-container-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}"]}),t})();var ca=s(7117),ma=s(6468),pa=s(1436),T=s(3738);function da(t,e){if(1&t&&(a.TgZ(0,"mat-option",15),a._uU(1),a.qZA()),2&t){const r=e.$implicit;a.Q6J("value",r),a.xp6(1),a.hij(" ",r," ")}}function fa(t,e){if(1&t&&(a.TgZ(0,"mat-option",15),a._uU(1),a.qZA()),2&t){const r=e.$implicit;a.Q6J("value",r),a.xp6(1),a.hij(" ",r," ")}}function ga(t,e){if(1&t&&(a.TgZ(0,"mat-option",15),a._uU(1),a.qZA()),2&t){const r=e.$implicit;a.Q6J("value",r.id),a.xp6(1),a.hij(" ",r.grupo," ")}}function ha(t,e){if(1&t&&(a.TgZ(0,"mat-form-field",16),a.TgZ(1,"mat-label"),a._uU(2,"Pesquisar Por"),a.qZA(),a.TgZ(3,"mat-select",17),a.YNc(4,ga,2,2,"mat-option",9),a.qZA(),a.qZA()),2&t){const r=a.oxw();a.xp6(4),a.Q6J("ngForOf",r.grupos)}}function _a(t,e){1&t&&(a.TgZ(0,"mat-form-field",18),a.TgZ(1,"mat-label"),a._uU(2,"Descri\xe7\xe3o"),a.qZA(),a._UZ(3,"input",19),a.qZA())}function Za(t,e){if(1&t){const r=a.EpF();a.TgZ(0,"div",20),a.TgZ(1,"mat-card",21),a.NdJ("click",function(){const c=a.CHM(r).$implicit,u=a.oxw();return u.escolha(u.getAcoes().Consulta,c)}),a.TgZ(2,"mat-card-actions"),a.TgZ(3,"span",22),a.TgZ(4,"button",4),a.NdJ("click",function(){const c=a.CHM(r).$implicit,u=a.oxw();return u.escolha(u.getAcoes().Edicao,c)}),a.TgZ(5,"mat-icon"),a._uU(6,"edit"),a.qZA(),a.qZA(),a.TgZ(7,"button",4),a.NdJ("click",function(){const c=a.CHM(r).$implicit,u=a.oxw();return u.escolha(u.getAcoes().Exclusao,c)}),a.TgZ(8,"mat-icon"),a._uU(9,"delete"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(10,"mat-card-content"),a.TgZ(11,"mat-label",23),a._uU(12,"C\xd3DIGO:"),a.qZA(),a.TgZ(13,"mat-label",24),a._uU(14),a.qZA(),a.TgZ(15,"mat-label",25),a._uU(16,"Social:"),a.qZA(),a.TgZ(17,"mat-label",24),a._uU(18),a.qZA(),a.TgZ(19,"mat-label",25),a._uU(20,"Grupo:"),a.qZA(),a.TgZ(21,"mat-label",24),a._uU(22),a.qZA(),a.TgZ(23,"mat-label",25),a._uU(24,"E-Mail:"),a.qZA(),a.TgZ(25,"mat-label",24),a._uU(26),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&t){const r=e.$implicit,o=a.oxw();a.xp6(4),a.Q6J("matTooltip",o.getTexto().alterar),a.xp6(3),a.Q6J("matTooltip",o.getTexto().excluir),a.xp6(7),a.Oqu(r.id),a.xp6(4),a.Oqu(r.razao),a.xp6(4),a.Oqu(r.grupo),a.xp6(4),a.Oqu(r.email)}}const va=[{path:"",redirectTo:"usuarios",pathMatch:"full"},{path:"usuarios",component:(()=>{class t{constructor(r,o,i,c,u,p){this.formBuilder=r,this.usuariosService=o,this.grupoUserService=i,this.globalService=c,this.router=u,this.appSnackBar=p,this.usuarios=[],this.grupos=[],this.erro="",this.opcoesOrdenacao=["C\xf3digo","Raz\xe3o","Grupo"],this.opcoesCampo=["C\xf3digo","Raz\xe3o","Grupo"],this.parametros=r.group({ordenacao:[null],campo:[null],filtro:[null],grupo:[]}),this.setValues(),this.getGrupos()}ngOnInit(){this.getUsuarios()}ngOnDestroy(){var r,o,i;null===(r=this.inscricaoGetAll)||void 0===r||r.unsubscribe(),null===(o=this.inscricaoGetFiltro)||void 0===o||o.unsubscribe(),null===(i=this.inscricaoGetGrupo)||void 0===i||i.unsubscribe()}escolha(r,o){this.router.navigate(void 0!==o?["/usuarios/usuario",o.id_empresa,o.id,r]:["/usuarios/usuario",1,0,r])}onHome(){this.router.navigate(["/"])}getAcoes(){return n.I}getUsuarios(){let r=new ma.w;if(r.id_empresa=1,"C\xf3digo"==this.parametros.value.campo){let o=parseInt(this.parametros.value.filtro,10);r.id=isNaN(o)?0:o}"Raz\xe3o"==this.parametros.value.campo&&(r.razao=this.parametros.value.filtro.toUpperCase()),"Grupo"==this.parametros.value.campo&&r.grupo.push(this.parametros.value.grupo),r.orderby=this.parametros.value.ordenacao,this.globalService.setSpin(!0),this.inscricaoGetFiltro=this.usuariosService.getusuarios_01(r).subscribe(o=>{this.globalService.setSpin(!1),this.usuarios=o},o=>{this.globalService.setSpin(!1),this.usuarios=[],this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Usu\xe1rios ${o.error.tabela} - ${o.error.erro} - ${o.error.message}`,"OK")})}getGrupos(){this.globalService.setSpin(!0),this.inscricaoGetGrupo=this.grupoUserService.getGrupoUsers().subscribe(r=>{this.globalService.setSpin(!1),this.grupos=r},r=>{this.globalService.setSpin(!1),this.erro=r,this.grupos=[],console.log("this.erro",this.erro)})}isGrupo(){return"Grupo"==this.parametros.value.campo}setValues(){this.parametros.setValue({ordenacao:"C\xf3digo",campo:"C\xf3digo",filtro:"",grupo:1})}getTexto(){return ca.fd}}return t.\u0275fac=function(r){return new(r||t)(a.Y36(l.qu),a.Y36(U.J),a.Y36(I.c),a.Y36(O.U),a.Y36(f.F0),a.Y36(C.W))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-crud-usuario"]],decls:29,vars:7,consts:[[1,"div-barra"],[1,"example-spacer"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltip","Retorno","matTooltipPosition","above",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon","matTooltip","Atualizar","matTooltipPosition","above",1,"example-icon",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon ","matTooltipPosition","above",3,"matTooltip","click"],[1,"parametros"],["autocomplete","off",1,"col-med-4",3,"formGroup"],["field","","appearance","outline",1,"col-max"],["formControlName","ordenacao"],[3,"value",4,"ngFor","ngForOf"],["formControlName","campo"],["field","","appearance","outline","class","col-max column-span-2",4,"ngIf"],["appearance","outline","class","col-max column-span-2",4,"ngIf"],[1,"Browse"],["class","linha",4,"ngFor","ngForOf"],[3,"value"],["field","","appearance","outline",1,"col-max","column-span-2"],["formControlName","grupo"],["appearance","outline",1,"col-max","column-span-2"],["matInput","","formControlName","filtro"],[1,"linha"],[1,"example-card",3,"click"],[1,"button-container-right"],[1,"labelTitleFirst"],[1,"labelData"],[1,"labelTitle"]],template:function(r,o){1&r&&(a.TgZ(0,"div",0),a.TgZ(1,"mat-toolbar"),a.TgZ(2,"span",1),a._uU(3,"Usu\xe1rios: "),a.qZA(),a.TgZ(4,"button",2),a.NdJ("click",function(){return o.onHome()}),a.TgZ(5,"mat-icon"),a._uU(6,"home"),a.qZA(),a.qZA(),a.TgZ(7,"button",3),a.NdJ("click",function(){return o.getUsuarios()}),a.TgZ(8,"mat-icon"),a._uU(9,"rotate_right"),a.qZA(),a.qZA(),a.TgZ(10,"button",4),a.NdJ("click",function(){return o.escolha(o.getAcoes().Inclusao)}),a.TgZ(11,"mat-icon"),a._uU(12,"add_circle_outline"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(13,"div",5),a.TgZ(14,"form",6),a.TgZ(15,"mat-form-field",7),a.TgZ(16,"mat-label"),a._uU(17,"Ordena\xe7\xe3o"),a.qZA(),a.TgZ(18,"mat-select",8),a.YNc(19,da,2,2,"mat-option",9),a.qZA(),a.qZA(),a.TgZ(20,"mat-form-field",7),a.TgZ(21,"mat-label"),a._uU(22,"Pesquisar Por"),a.qZA(),a.TgZ(23,"mat-select",10),a.YNc(24,fa,2,2,"mat-option",9),a.qZA(),a.qZA(),a.YNc(25,ha,5,1,"mat-form-field",11),a.YNc(26,_a,4,0,"mat-form-field",12),a.qZA(),a.qZA(),a.TgZ(27,"div",13),a.YNc(28,Za,27,6,"div",14),a.qZA()),2&r&&(a.xp6(10),a.Q6J("matTooltip",o.getTexto().incluir),a.xp6(4),a.Q6J("formGroup",o.parametros),a.xp6(5),a.Q6J("ngForOf",o.opcoesOrdenacao),a.xp6(5),a.Q6J("ngForOf",o.opcoesCampo),a.xp6(1),a.Q6J("ngIf",o.isGrupo()),a.xp6(1),a.Q6J("ngIf",!o.isGrupo()),a.xp6(2),a.Q6J("ngForOf",o.usuarios))},directives:[N.Ye,J.lW,pa.gM,E.Hw,l._Y,l.JL,l.sg,_.KE,_.hX,Y.gD,l.JJ,l.u,h.sg,h.O5,k.ey,V.Nt,l.Fj,T.a8,T.hq,T.dn],styles:[""]}),t})()},{path:"usuario/:id_empresa/:id/:acao",component:na,canActivate:[S]},{path:"atualizacao",component:(()=>{class t{constructor(r,o,i,c){this.route=r,this.usuariosService=o,this.router=i,this.appSnackBar=c,this.usuario=new g.g,this.idAcao=5,this.durationInSeconds=2,this.inscricaoRota=r.params.subscribe(u=>{this.usuario.id_empresa=u.id_empresa,this.usuario.email=u.email})}ngOnInit(){this.getUsuario()}ngOnDestroy(){var r,o;null===(r=this.incricaoGetUsuario)||void 0===r||r.unsubscribe(),null===(o=this.inscricaoRota)||void 0===o||o.unsubscribe()}getUsuario(){this.incricaoGetUsuario=this.usuariosService.getUsuarioByEmail(this.usuario.id_empresa,this.usuario.email).subscribe(r=>{this.usuario=r,this.router.navigate(["usuarios/usuario",this.usuario.id_empresa,this.usuario.id,this.idAcao])},r=>{this.appSnackBar.openFailureSnackBar(`Pesquisa Nos Usu\xe1rios ${r.error.tabela} - ${r.error.erro} - ${r.error.message}`,"OK")})}}return t.\u0275fac=function(r){return new(r||t)(a.Y36(f.gz),a.Y36(U.J),a.Y36(f.F0),a.Y36(C.W))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-atualizacao-cadastral"]],decls:2,vars:0,template:function(r,o){1&r&&(a.TgZ(0,"h1"),a._uU(1,"ESTOU NA ATULIZA\xc7\xc3O CADASTRAL"),a.qZA())},styles:[""]}),t})()}];let Aa=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[f.Bz.forChild(va)],f.Bz]}),t})();var Ua=s(3122),Ca=s(4466);let Ta=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({providers:[S],imports:[[h.ez,Aa,Ua.q,l.u5,l.UX,Ca.m,Q.yI.forChild()]]}),t})()}}]);