"use strict";(self.webpackChunktimer=self.webpackChunktimer||[]).push([[14],{141:(m,s,o)=>{o.d(s,{n:()=>a});class a{constructor(){this.dia=0,this.horas_plan=0,this.horas_exec=0}}},3639:(m,s,o)=>{o.d(s,{j:()=>a});class a{constructor(){this.id_empresa=0,this.id=0,this.razao="",this.grupo="",this.email=""}}},3563:(m,s,o)=>{o.d(s,{t:()=>a});class a{constructor(){this.id_empresa=0,this.id=0,this.id_projeto=0,this.id_conta="",this.id_subconta="",this.id_resp=0,this.id_exec=0,this.mes="",this.ano="",this.orderby="",this.sharp=!0}}},4878:(m,s,o)=>{o.d(s,{W:()=>a});class a{constructor(){this.id_empresa=0,this.id=0,this.id_projeto=0,this.id_conta="",this.id_versao="",this.id_subconta="",this.id_resp=0,this.id_exec=0,this.data="",this.orderby="",this.sharp=!0}}},9648:(m,s,o)=>{o.d(s,{W:()=>a});class a{constructor(){this.id_empresa=0,this.id="",this.id_projeto=0,this.id_conta="",this.id_subconta="",this.id_resp=0,this.id_exec=0,this.data="",this.orderby="",this.sharp=!0}}},6468:(m,s,o)=>{o.d(s,{w:()=>a});class a{constructor(){this.id_empresa=0,this.id=0,this.razao="",this.cnpj_cpf="",this.grupo=[],this.orderby="",this.sharp=!1}}},8059:(m,s,o)=>{o.d(s,{A:()=>h});var a=o(2340),r=o(7716),l=o(1841);let h=(()=>{class e{constructor(n){this.http=n,this.apiURL=a.N.apiURL}getApoExecucao(n,_){return this.http.get(`${this.apiURL}aponexec/${n}/${_}`)}getApoExecucaos(){return this.http.get(`${this.apiURL}aponexec`)}getApoExecucoes_01(n){return this.http.post(`${this.apiURL}aponexecs`,n)}ApoExecucaoInsert(n){return this.http.post(`${this.apiURL}aponexec`,n)}ApoExecucaoUpdate(n){return this.http.put(`${this.apiURL}aponexec`,n)}ApoExecucaoDelete(n,_){return this.http.delete(`${this.apiURL}aponexec/${n}/${_}`)}}return e.\u0275fac=function(n){return new(n||e)(r.LFG(l.eN))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},1872:(m,s,o)=>{o.d(s,{G:()=>h});var a=o(2340),r=o(7716),l=o(1841);let h=(()=>{class e{constructor(n){this.http=n,this.apiURL=a.N.apiURL}getApoPlanejamento(n,_){return this.http.get(`${this.apiURL}aponplan/${n}/${_}`)}getApoPlanejamentos(){return this.http.get(`${this.apiURL}aponplans`)}getApoPlanejamentos_01(n){return this.http.post(`${this.apiURL}aponplans`,n)}getAponAgendaPlanejamentos(n){return this.http.post(`${this.apiURL}aponagenda`,n)}getAponAgendaPlanejamentosV2(n){return this.http.post(`${this.apiURL}aponagenda`,n)}postPlanejamento(n){return this.http.post(`${this.apiURL}planejamento`,n)}ApoPlanejamentoInsert(n){return this.http.post(`${this.apiURL}aponplan`,n)}ApoPlanejamentoUpdate(n){return this.http.put(`${this.apiURL}aponplan`,n)}ApoPlanejamentoDelete(n,_){return this.http.delete(`${this.apiURL}aponplan/${n}/${_}`)}}return e.\u0275fac=function(n){return new(n||e)(r.LFG(l.eN))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},8673:(m,s,o)=>{o.d(s,{u:()=>a});class a{constructor(){this.line=[]}}},4453:(m,s,o)=>{o.d(s,{N:()=>a});class a{constructor(){this.dia=0,this.data=new Date,this.semana=0,this.tipo=0,this.horasplanejadas=0,this.horasexecutadas=0,this.descricao="",this.id_projeto=0,this.id_exec=0,this.id_resp=0}}},7265:(m,s,o)=>{o.d(s,{Y:()=>a});class a{constructor(){this.meses=[{nro:0,nome:"JANEIRO"},{nro:1,nome:"FEVEREIRO"},{nro:2,nome:"MAR\xc7O"},{nro:3,nome:"ABRIL"},{nro:4,nome:"MAIO"},{nro:5,nome:"JUNHO"},{nro:6,nome:"JULHO"},{nro:7,nome:"AGOSTO"},{nro:8,nome:"SETEMBRO"},{nro:9,nome:"OUTUBRO"},{nro:10,nome:"NOVEMBRO"},{nro:11,nome:"DEZEMBRO"}]}}},850:(m,s,o)=>{o.d(s,{Q:()=>f});var a=o(9648),r=o(4453),l=o(8583),h=o(4878),e=o(7716),d=o(8059),n=o(1872),_=o(4590),T=o(2522),C=o(8295),u=o(1436),A=o(1790),c=o(1554);function v(p,g){if(1&p&&(e.TgZ(0,"div",1),e.TgZ(1,"mat-toolbar"),e.TgZ(2,"span"),e.TgZ(3,"mat-label"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&p){const t=e.oxw();e.xp6(4),e.hij("APONTAMENTOS - ",e.xi3(5,1,t.cel.data,"dd/MM/yyyy"),"")}}function E(p,g){if(1&p&&(e.TgZ(0,"div"),e.TgZ(1,"div",6),e.TgZ(2,"mat-label",7),e._uU(3,"Hor\xe1rio:"),e.qZA(),e.TgZ(4,"mat-label",8),e._uU(5),e.ALo(6,"date"),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"mat-label",7),e._uU(9,"Hora Apontadas:"),e.qZA(),e.TgZ(10,"mat-label",8),e._uU(11),e.ALo(12,"horaSexagenal"),e.qZA(),e.qZA(),e.TgZ(13,"div",6),e.TgZ(14,"mat-label",9),e._uU(15,"Projeto:"),e.qZA(),e.TgZ(16,"mat-label",8),e._uU(17),e.qZA(),e.qZA(),e.TgZ(18,"div",6),e.TgZ(19,"mat-label",7),e._uU(20,"Respons\xe1vel:"),e.qZA(),e.TgZ(21,"mat-label",8),e._uU(22),e.qZA(),e.qZA(),e.TgZ(23,"div",6),e.TgZ(24,"mat-label",7),e._uU(25,"Executor:"),e.qZA(),e.TgZ(26,"mat-label",8),e._uU(27),e.qZA(),e.qZA(),e.TgZ(28,"div",6),e.TgZ(29,"mat-label",7),e._uU(30,"Atividade:"),e.qZA(),e.TgZ(31,"mat-label",8),e._uU(32),e.qZA(),e.qZA(),e.TgZ(33,"div",6),e.TgZ(34,"mat-label",7),e._uU(35,"Obs.::"),e.qZA(),e.TgZ(36,"mat-label",8),e._uU(37),e.qZA(),e.qZA(),e.qZA()),2&p){const t=g.$implicit,i=e.oxw();e.xp6(5),e.AsE("",e.xi3(6,10,t.inicial,"HH:mm")," as ",e.xi3(7,13,t.final,"HH:mm"),""),e.xp6(6),e.Oqu(e.lcZ(12,16,t.horasapon)),e.xp6(3),e.Q6J("matTooltip",i.showDadosProjetoAgendamento(t)),e.xp6(3),e.AsE("",t.id_projeto,"-",t.projeto_descricao,""),e.xp6(5),e.Oqu(t.resp_razao),e.xp6(5),e.Oqu(t.exec_razao),e.xp6(5),e.Oqu(t.estru_descricao),e.xp6(5),e.Oqu(t.obs)}}function P(p,g){1&p&&(e.TgZ(0,"div"),e.TgZ(1,"mat-label"),e._uU(2,"Nenhum Planejamento Para Esta Data"),e.qZA(),e.qZA())}function O(p,g){if(1&p&&(e.TgZ(0,"div"),e.TgZ(1,"div",6),e.TgZ(2,"mat-label",7),e._uU(3,"Hor\xe1rio:"),e.qZA(),e.TgZ(4,"mat-label",8),e._uU(5),e.ALo(6,"date"),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"mat-label",7),e._uU(9,"Hora Apontadas:"),e.qZA(),e.TgZ(10,"mat-label",8),e._uU(11),e.ALo(12,"horaSexagenal"),e.qZA(),e.qZA(),e.TgZ(13,"div",6),e.TgZ(14,"mat-label",9),e._uU(15,"Projeto:"),e.qZA(),e.TgZ(16,"mat-label",8),e._uU(17),e.qZA(),e.qZA(),e.TgZ(18,"div",6),e.TgZ(19,"mat-label",7),e._uU(20,"Respons\xe1vel:"),e.qZA(),e.TgZ(21,"mat-label",8),e._uU(22),e.qZA(),e.qZA(),e.TgZ(23,"div",6),e.TgZ(24,"mat-label",7),e._uU(25,"Executor:"),e.qZA(),e.TgZ(26,"mat-label",8),e._uU(27),e.qZA(),e.qZA(),e.TgZ(28,"div",6),e.TgZ(29,"mat-label",7),e._uU(30,"Encerrou Atividade ?:"),e.qZA(),e.TgZ(31,"mat-label",8),e._uU(32),e.ALo(33,"simNao"),e.qZA(),e.qZA(),e.TgZ(34,"div",6),e.TgZ(35,"mat-label",7),e._uU(36,"Atividade:"),e.qZA(),e.TgZ(37,"mat-label",8),e._uU(38),e.qZA(),e.qZA(),e.TgZ(39,"div",6),e.TgZ(40,"mat-label",7),e._uU(41,"Motivo:"),e.qZA(),e.TgZ(42,"mat-label",8),e._uU(43),e.qZA(),e.qZA(),e.TgZ(44,"div",6),e.TgZ(45,"mat-label",7),e._uU(46,"Produtivo:"),e.qZA(),e.TgZ(47,"mat-label",8),e._uU(48),e.qZA(),e.qZA(),e.TgZ(49,"div",6),e.TgZ(50,"mat-label",7),e._uU(51,"Obs.::"),e.qZA(),e.TgZ(52,"mat-label",8),e._uU(53),e.qZA(),e.qZA(),e.qZA()),2&p){const t=g.$implicit,i=e.oxw();e.xp6(5),e.AsE("",e.xi3(6,13,t.inicial,"HH:mm")," as ",e.xi3(7,16,t.final,"HH:mm"),""),e.xp6(6),e.Oqu(e.lcZ(12,19,t.horasapon)),e.xp6(3),e.Q6J("matTooltip",i.showDadosProjetoApontamento(t)),e.xp6(3),e.AsE("",t.id_projeto,"-",t.proj_descricao,""),e.xp6(5),e.Oqu(t.resp_razao),e.xp6(5),e.Oqu(t.exec_razao),e.xp6(5),e.Oqu(e.lcZ(33,21,t.encerramento)),e.xp6(6),e.Oqu(t.estru_descricao),e.xp6(5),e.Oqu(t.motivo_descricao),e.xp6(5),e.Oqu(t.motivo_produtivo),e.xp6(5),e.Oqu(t.obs)}}function U(p,g){1&p&&(e.TgZ(0,"div"),e.TgZ(1,"mat-label"),e._uU(2,"Nenhum Apontamento Para Esta Data"),e.qZA(),e.qZA())}let f=(()=>{class p{constructor(t,i,Z,M){this.datePipe=t,this.aponExecucaoService=i,this.aponPlanejamentoService=Z,this.globslService=M,this.cel=new r.N,this.apontamentos=[],this.agendamentos=[],this.globslService.refreshLan\u00e7amentos.subscribe(x=>{console.log("Fui chamado:",x),this.cel=x,3==this.cel.tipo||0==this.cel.semana?(this.apontamentos=[],this.agendamentos=[]):(this.getPlanejados(),this.getExecutados())})}ngOnInit(){}ngOnDestroy(){var t,i;null===(t=this.inscricaoExecutadas)||void 0===t||t.unsubscribe(),null===(i=this.inscricaoPlanejadas)||void 0===i||i.unsubscribe()}showDadosProjetoAgendamento(t){let i="";return i=`Projeto: ${t.id_projeto} Diretor: ${t.diretor_razao} Resp.: ${t.resp_razao}`,i}showDadosProjetoApontamento(t){let i="";return i=`Projeto: ${t.id_projeto} Descricao: ${t.proj_descricao} Resp.: ${t.resp_razao}`,i}getPlanejados(){const t=new h.W;let i=this.datePipe.transform(this.cel.data,"yyyy-MM-dd");i||(i=""),t.id_empresa=this.globslService.getIdEmpresa(),t.id_resp=this.cel.id_resp,t.id_exec=this.cel.id_exec,t.data=i,console.log("Parametros",t,this.cel),this.inscricaoPlanejadas=this.aponPlanejamentoService.getApoPlanejamentos_01(t).subscribe(Z=>{this.agendamentos=Z,console.log(this.agendamentos)},Z=>{this.agendamentos=[]})}getExecutados(){const t=new a.W;let i=this.datePipe.transform(this.cel.data,"yyyy-MM-dd");i||(i=""),t.id_empresa=this.globslService.getIdEmpresa(),t.id_resp=this.cel.id_resp,t.id_exec=this.cel.id_exec,t.data=i,console.log("Parametros",t,this.cel),this.inscricaoExecutadas=this.aponExecucaoService.getApoExecucoes_01(t).subscribe(Z=>{this.apontamentos=Z,console.log(this.apontamentos)},Z=>{this.apontamentos=[]})}}return p.\u0275fac=function(t){return new(t||p)(e.Y36(l.uU),e.Y36(d.A),e.Y36(n.G),e.Y36(_.U))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-cel-apontamentos"]],features:[e._Bn([l.uU])],decls:15,vars:5,consts:[["class","div-barra",4,"ngIf"],[1,"div-barra"],[1,"coluna-cabec"],[1,"coluna-descricao"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"coluna-descricao","cor-blue"],[1,"labelTitle"],[1,"labelData"],["matTooltipPosition","above",1,"labelTitle",3,"matTooltip"]],template:function(t,i){1&t&&(e.YNc(0,v,6,4,"div",0),e.TgZ(1,"div"),e.TgZ(2,"table",1),e.TgZ(3,"tr",2),e.TgZ(4,"th"),e._uU(5,"PLANEJADO"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"EXECUTADO"),e.qZA(),e.qZA(),e.TgZ(8,"tr"),e.TgZ(9,"td",3),e.YNc(10,E,38,18,"div",4),e.YNc(11,P,3,0,"div",5),e.qZA(),e.TgZ(12,"td",3),e.YNc(13,O,54,23,"div",4),e.YNc(14,U,3,0,"div",5),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("ngIf",i.cel.dia>0),e.xp6(10),e.Q6J("ngForOf",i.agendamentos),e.xp6(1),e.Q6J("ngIf",0==i.agendamentos.length),e.xp6(2),e.Q6J("ngForOf",i.apontamentos),e.xp6(1),e.Q6J("ngIf",0==i.apontamentos.length))},directives:[l.O5,l.sg,T.Ye,C.hX,u.gM],pipes:[l.uU,A.X,c.r],styles:[""]}),p})()},7094:(m,s,o)=>{o.d(s,{H:()=>C});var a=o(7716),r=o(8583),l=o(1769),h=o(8295),e=o(1436),d=o(1790);function n(u,A){1&u&&a._UZ(0,"mat-divider")}function _(u,A){if(1&u){const c=a.EpF();a.TgZ(0,"div",3),a.TgZ(1,"mat-label",4),a.NdJ("click",function(){return a.CHM(c),a.oxw(2).onClickPlanejado()}),a._uU(2),a.ALo(3,"horaSexagenal"),a.qZA(),a.TgZ(4,"mat-label",5),a.NdJ("click",function(){return a.CHM(c),a.oxw(2).onClickExecutado()}),a._uU(5),a.ALo(6,"horaSexagenal"),a.qZA(),a.qZA()}if(2&u){const c=a.oxw(2);a.xp6(2),a.Oqu(a.lcZ(3,2,c.Celula.horasplanejadas)),a.xp6(3),a.Oqu(a.lcZ(6,4,c.Celula.horasexecutadas))}}function T(u,A){if(1&u){const c=a.EpF();a.TgZ(0,"div"),a.TgZ(1,"div"),a.TgZ(2,"label",1),a.NdJ("click",function(){return a.CHM(c),a.oxw().onClickDia()}),a._uU(3),a.qZA(),a.qZA(),a.YNc(4,n,1,0,"mat-divider",0),a.YNc(5,_,7,6,"div",2),a.qZA()}if(2&u){const c=a.oxw();a.xp6(2),a.Q6J("ngClass",c.getClasse()),a.xp6(1),a.Oqu(c.Celula.dia),a.xp6(1),a.Q6J("ngIf",1==c.Celula.tipo),a.xp6(1),a.Q6J("ngIf",1==c.Celula.tipo)}}let C=(()=>{class u{constructor(){this.changeDay=new a.vpe}ngOnInit(){}getClasse(){return 3==this.Celula.tipo?"formata-dia-semana_3":"formata-dia-semana_1"}onClickDia(){this.changeDay.emit(this.Celula)}onClickPlanejado(){}onClickExecutado(){}show(){return 1!=this.Celula.tipo||this.Celula.horasexecutadas+this.Celula.horasplanejadas>0}}return u.\u0275fac=function(c){return new(c||u)},u.\u0275cmp=a.Xpm({type:u,selectors:[["app-cel-calendar"]],inputs:{Celula:["celula","Celula"]},outputs:{changeDay:"onClickDay"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngClass","click"],["div","","class","col-med-2",4,"ngIf"],["div","",1,"col-med-2"],["matTooltip","Horas Planejadas","matTooltipPosition","above",1,"cor-planejada",3,"click"],["matTooltip","Horas Executadas","matTooltipPosition","above",1,"cor-executada",3,"click"]],template:function(c,v){1&c&&a.YNc(0,T,6,4,"div",0),2&c&&a.Q6J("ngIf",v.show())},directives:[r.O5,r.mk,l.d,h.hX,e.gM],pipes:[d.X],styles:[".format-dia-semana[_ngcontent-%COMP%]{color:#000;cursor:pointer}.formata-dia-semana_1[_ngcontent-%COMP%]{color:#000;cursor:pointer}.formata-dia-semana_2[_ngcontent-%COMP%]{color:#ff0;cursor:pointer}.formata-dia-semana_3[_ngcontent-%COMP%]{color:gray;cursor:pointer}.cor-planejada[_ngcontent-%COMP%]{color:green;cursor:pointer}.cor-executada[_ngcontent-%COMP%]{color:red;cursor:pointer}"]}),u})()},1790:(m,s,o)=>{o.d(s,{X:()=>r});var a=o(7716);let r=(()=>{class l{transform(e){let d=Number(e).toFixed(2),n=d.substring(0,d.indexOf(".")),_=d.substring(d.indexOf(".")+1);return _="00"+(Number.parseInt(_)/1.67).toFixed(0).trim(),_=_.substring(_.length-2),_.length<2&&(_="0"+_),n+":"+_}}return l.\u0275fac=function(e){return new(e||l)},l.\u0275pipe=a.Yjl({name:"horaSexagenal",type:l,pure:!0}),l})()},1554:(m,s,o)=>{o.d(s,{r:()=>r});var a=o(7716);let r=(()=>{class l{transform(e){let d="N\xe3o";return d="S"==e?"Sim":"N\xe3o",d}}return l.\u0275fac=function(e){return new(e||l)},l.\u0275pipe=a.Yjl({name:"simNao",type:l,pure:!0}),l})()}}]);