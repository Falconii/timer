"use strict";(self.webpackChunktimer=self.webpackChunktimer||[]).push([[722],{141:(m,i,o)=>{o.d(i,{n:()=>t});class t{constructor(){this.dia=0,this.horas_plan=0,this.horas_exec=0}}},3639:(m,i,o)=>{o.d(i,{j:()=>t});class t{constructor(){this.id_empresa=0,this.id=0,this.razao="",this.grupo="",this.email=""}}},3563:(m,i,o)=>{o.d(i,{t:()=>t});class t{constructor(){this.id_empresa=0,this.id=0,this.id_projeto=0,this.id_conta="",this.id_subconta="",this.id_resp=0,this.id_exec=0,this.mes="",this.ano="",this.orderby="",this.sharp=!0}}},9648:(m,i,o)=>{o.d(i,{W:()=>t});class t{constructor(){this.id_empresa=0,this.id="",this.id_projeto=0,this.id_conta="",this.id_subconta="",this.id_resp=0,this.id_exec=0,this.data="",this.orderby="",this.sharp=!0}}},6468:(m,i,o)=>{o.d(i,{w:()=>t});class t{constructor(){this.id_empresa=0,this.id=0,this.razao="",this.cnpj_cpf="",this.grupo=[],this.orderby="",this.sharp=!1}}},8059:(m,i,o)=>{o.d(i,{A:()=>h});var t=o(2340),l=o(7716),r=o(1841);let h=(()=>{class e{constructor(n){this.http=n,this.apiURL=t.N.apiURL}getApoExecucao(n,c){return this.http.get(`${this.apiURL}aponexec/${n}/${c}`)}getApoExecucaos(){return this.http.get(`${this.apiURL}aponexec`)}getApoExecucoes_01(n){return this.http.post(`${this.apiURL}aponexecs`,n)}ApoExecucaoInsert(n){return this.http.post(`${this.apiURL}aponexec`,n)}ApoExecucaoUpdate(n){return this.http.put(`${this.apiURL}aponexec`,n)}ApoExecucaoDelete(n,c){return this.http.delete(`${this.apiURL}aponexec/${n}/${c}`)}}return e.\u0275fac=function(n){return new(n||e)(l.LFG(r.eN))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},1872:(m,i,o)=>{o.d(i,{G:()=>h});var t=o(2340),l=o(7716),r=o(1841);let h=(()=>{class e{constructor(n){this.http=n,this.apiURL=t.N.apiURL}getApoPlanejamento(n,c){return this.http.get(`${this.apiURL}aponplan/${n}/${c}`)}getApoPlanejamentos(){return this.http.get(`${this.apiURL}aponplans`)}getApoPlanejamentos_01(n){return this.http.post(`${this.apiURL}aponplans`,n)}getAponAgendaPlanejamentos(n){return this.http.post(`${this.apiURL}aponagenda`,n)}getAponAgendaPlanejamentosV2(n){return this.http.post(`${this.apiURL}aponagenda`,n)}postPlanejamento(n){return this.http.post(`${this.apiURL}planejamento`,n)}ApoPlanejamentoInsert(n){return this.http.post(`${this.apiURL}aponplan`,n)}ApoPlanejamentoUpdate(n){return this.http.put(`${this.apiURL}aponplan`,n)}ApoPlanejamentoDelete(n,c){return this.http.delete(`${this.apiURL}aponplan/${n}/${c}`)}}return e.\u0275fac=function(n){return new(n||e)(l.LFG(r.eN))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},8673:(m,i,o)=>{o.d(i,{u:()=>t});class t{constructor(){this.line=[]}}},4453:(m,i,o)=>{o.d(i,{N:()=>t});class t{constructor(){this.dia=0,this.data=new Date,this.semana=0,this.tipo=0,this.horasplanejadas=0,this.horasexecutadas=0,this.descricao="",this.id_projeto=0,this.id_exec=0,this.id_resp=0}}},7265:(m,i,o)=>{o.d(i,{Y:()=>t});class t{constructor(){this.meses=[{nro:0,nome:"JANEIRO"},{nro:1,nome:"FEVEREIRO"},{nro:2,nome:"MAR\xc7O"},{nro:3,nome:"ABRIL"},{nro:4,nome:"MAIO"},{nro:5,nome:"JUNHO"},{nro:6,nome:"JULHO"},{nro:7,nome:"AGOSTO"},{nro:8,nome:"SETEMBRO"},{nro:9,nome:"OUTUBRO"},{nro:10,nome:"NOVEMBRO"},{nro:11,nome:"DEZEMBRO"}]}}},963:(m,i,o)=>{o.d(i,{Q:()=>O});var t=o(9648),l=o(4453),r=o(8583);class h{constructor(){this.id_empresa=0,this.id=0,this.id_projeto=0,this.id_conta="",this.id_versao="",this.id_subconta="",this.id_resp=0,this.id_exec=0,this.data="",this.orderby="",this.sharp=!0}}var e=o(7716),u=o(8059),n=o(1872),c=o(4590),T=o(2522),C=o(8295),_=o(1436),A=o(1790),p=o(1554);function v(d,g){if(1&d&&(e.TgZ(0,"div",1),e.TgZ(1,"mat-toolbar"),e.TgZ(2,"span"),e.TgZ(3,"mat-label"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&d){const a=e.oxw();e.xp6(4),e.hij("APONTAMENTOS - ",e.xi3(5,1,a.cel.data,"dd/MM/yyyy"),"")}}function x(d,g){if(1&d&&(e.TgZ(0,"div"),e.TgZ(1,"div",6),e.TgZ(2,"mat-label",7),e._uU(3,"Hor\xe1rio:"),e.qZA(),e.TgZ(4,"mat-label",8),e._uU(5),e.ALo(6,"date"),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"mat-label",7),e._uU(9,"Hora Apontadas:"),e.qZA(),e.TgZ(10,"mat-label",8),e._uU(11),e.ALo(12,"horaSexagenal"),e.qZA(),e.qZA(),e.TgZ(13,"div",6),e.TgZ(14,"mat-label",9),e._uU(15,"Projeto:"),e.qZA(),e.TgZ(16,"mat-label",8),e._uU(17),e.qZA(),e.qZA(),e.TgZ(18,"div",6),e.TgZ(19,"mat-label",7),e._uU(20,"Respons\xe1vel:"),e.qZA(),e.TgZ(21,"mat-label",8),e._uU(22),e.qZA(),e.qZA(),e.TgZ(23,"div",6),e.TgZ(24,"mat-label",7),e._uU(25,"Executor:"),e.qZA(),e.TgZ(26,"mat-label",8),e._uU(27),e.qZA(),e.qZA(),e.TgZ(28,"div",6),e.TgZ(29,"mat-label",7),e._uU(30,"Atividade:"),e.qZA(),e.TgZ(31,"mat-label",8),e._uU(32),e.qZA(),e.qZA(),e.TgZ(33,"div",6),e.TgZ(34,"mat-label",7),e._uU(35,"Obs.::"),e.qZA(),e.TgZ(36,"mat-label",8),e._uU(37),e.qZA(),e.qZA(),e.qZA()),2&d){const a=g.$implicit,s=e.oxw();e.xp6(5),e.AsE("",e.xi3(6,10,a.inicial,"HH:mm")," as ",e.xi3(7,13,a.final,"HH:mm"),""),e.xp6(6),e.Oqu(e.lcZ(12,16,a.horasapon)),e.xp6(3),e.Q6J("matTooltip",s.showDadosProjetoAgendamento(a)),e.xp6(3),e.AsE("",a.id_projeto,"-",a.projeto_descricao,""),e.xp6(5),e.Oqu(a.resp_razao),e.xp6(5),e.Oqu(a.exec_razao),e.xp6(5),e.Oqu(a.estru_descricao),e.xp6(5),e.Oqu(a.obs)}}function f(d,g){1&d&&(e.TgZ(0,"div"),e.TgZ(1,"mat-label"),e._uU(2,"Nenhum Planejamento Para Esta Data"),e.qZA(),e.qZA())}function P(d,g){if(1&d&&(e.TgZ(0,"div"),e.TgZ(1,"div",6),e.TgZ(2,"mat-label",7),e._uU(3,"Hor\xe1rio:"),e.qZA(),e.TgZ(4,"mat-label",8),e._uU(5),e.ALo(6,"date"),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"mat-label",7),e._uU(9,"Hora Apontadas:"),e.qZA(),e.TgZ(10,"mat-label",8),e._uU(11),e.ALo(12,"horaSexagenal"),e.qZA(),e.qZA(),e.TgZ(13,"div",6),e.TgZ(14,"mat-label",9),e._uU(15,"Projeto:"),e.qZA(),e.TgZ(16,"mat-label",8),e._uU(17),e.qZA(),e.qZA(),e.TgZ(18,"div",6),e.TgZ(19,"mat-label",7),e._uU(20,"Respons\xe1vel:"),e.qZA(),e.TgZ(21,"mat-label",8),e._uU(22),e.qZA(),e.qZA(),e.TgZ(23,"div",6),e.TgZ(24,"mat-label",7),e._uU(25,"Executor:"),e.qZA(),e.TgZ(26,"mat-label",8),e._uU(27),e.qZA(),e.qZA(),e.TgZ(28,"div",6),e.TgZ(29,"mat-label",7),e._uU(30,"Encerrou Atividade ?:"),e.qZA(),e.TgZ(31,"mat-label",8),e._uU(32),e.ALo(33,"simNao"),e.qZA(),e.qZA(),e.TgZ(34,"div",6),e.TgZ(35,"mat-label",7),e._uU(36,"Atividade:"),e.qZA(),e.TgZ(37,"mat-label",8),e._uU(38),e.qZA(),e.qZA(),e.TgZ(39,"div",6),e.TgZ(40,"mat-label",7),e._uU(41,"Motivo:"),e.qZA(),e.TgZ(42,"mat-label",8),e._uU(43),e.qZA(),e.qZA(),e.TgZ(44,"div",6),e.TgZ(45,"mat-label",7),e._uU(46,"Produtivo:"),e.qZA(),e.TgZ(47,"mat-label",8),e._uU(48),e.qZA(),e.qZA(),e.TgZ(49,"div",6),e.TgZ(50,"mat-label",7),e._uU(51,"Obs.::"),e.qZA(),e.TgZ(52,"mat-label",8),e._uU(53),e.qZA(),e.qZA(),e.qZA()),2&d){const a=g.$implicit,s=e.oxw();e.xp6(5),e.AsE("",e.xi3(6,13,a.inicial,"HH:mm")," as ",e.xi3(7,16,a.final,"HH:mm"),""),e.xp6(6),e.Oqu(e.lcZ(12,19,a.horasapon)),e.xp6(3),e.Q6J("matTooltip",s.showDadosProjetoApontamento(a)),e.xp6(3),e.AsE("",a.id_projeto,"-",a.proj_descricao,""),e.xp6(5),e.Oqu(a.resp_razao),e.xp6(5),e.Oqu(a.exec_razao),e.xp6(5),e.Oqu(e.lcZ(33,21,a.encerramento)),e.xp6(6),e.Oqu(a.estru_descricao),e.xp6(5),e.Oqu(a.motivo_descricao),e.xp6(5),e.Oqu(a.motivo_produtivo),e.xp6(5),e.Oqu(a.obs)}}function U(d,g){1&d&&(e.TgZ(0,"div"),e.TgZ(1,"mat-label"),e._uU(2,"Nenhum Apontamento Para Esta Data"),e.qZA(),e.qZA())}let O=(()=>{class d{constructor(a,s,Z,b){this.datePipe=a,this.aponExecucaoService=s,this.aponPlanejamentoService=Z,this.globslService=b,this.cel=new l.N,this.apontamentos=[],this.agendamentos=[],this.globslService.refreshLan\u00e7amentos.subscribe(E=>{console.log("Fui chamado:",E),this.cel=E,3==this.cel.tipo||0==this.cel.semana?(this.apontamentos=[],this.agendamentos=[]):(this.getPlanejados(),this.getExecutados())})}ngOnInit(){}ngOnDestroy(){var a,s;null===(a=this.inscricaoExecutadas)||void 0===a||a.unsubscribe(),null===(s=this.inscricaoPlanejadas)||void 0===s||s.unsubscribe()}showDadosProjetoAgendamento(a){let s="";return s=`Projeto: ${a.id_projeto} Diretor: ${a.diretor_razao} Resp.: ${a.resp_razao}`,s}showDadosProjetoApontamento(a){let s="";return s=`Projeto: ${a.id_projeto} Descricao: ${a.proj_descricao} Resp.: ${a.resp_razao}`,s}getPlanejados(){const a=new h;let s=this.datePipe.transform(this.cel.data,"yyyy-MM-dd");s||(s=""),a.id_empresa=this.globslService.getIdEmpresa(),a.id_resp=this.cel.id_resp,a.id_exec=this.cel.id_exec,a.data=s,console.log("Parametros",a,this.cel),this.inscricaoPlanejadas=this.aponPlanejamentoService.getApoPlanejamentos_01(a).subscribe(Z=>{this.agendamentos=Z,console.log(this.agendamentos)},Z=>{this.agendamentos=[]})}getExecutados(){const a=new t.W;let s=this.datePipe.transform(this.cel.data,"yyyy-MM-dd");s||(s=""),a.id_empresa=this.globslService.getIdEmpresa(),a.id_resp=this.cel.id_resp,a.id_exec=this.cel.id_exec,a.data=s,console.log("Parametros",a,this.cel),this.inscricaoExecutadas=this.aponExecucaoService.getApoExecucoes_01(a).subscribe(Z=>{this.apontamentos=Z,console.log(this.apontamentos)},Z=>{this.apontamentos=[]})}}return d.\u0275fac=function(a){return new(a||d)(e.Y36(r.uU),e.Y36(u.A),e.Y36(n.G),e.Y36(c.U))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-cel-apontamentos"]],features:[e._Bn([r.uU])],decls:15,vars:5,consts:[["class","div-barra",4,"ngIf"],[1,"div-barra"],[1,"coluna-cabec"],[1,"coluna-descricao"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"coluna-descricao","cor-blue"],[1,"labelTitle"],[1,"labelData"],["matTooltipPosition","above",1,"labelTitle",3,"matTooltip"]],template:function(a,s){1&a&&(e.YNc(0,v,6,4,"div",0),e.TgZ(1,"div"),e.TgZ(2,"table",1),e.TgZ(3,"tr",2),e.TgZ(4,"th"),e._uU(5,"PLANEJADO"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"EXECUTADO"),e.qZA(),e.qZA(),e.TgZ(8,"tr"),e.TgZ(9,"td",3),e.YNc(10,x,38,18,"div",4),e.YNc(11,f,3,0,"div",5),e.qZA(),e.TgZ(12,"td",3),e.YNc(13,P,54,23,"div",4),e.YNc(14,U,3,0,"div",5),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.Q6J("ngIf",s.cel.dia>0),e.xp6(10),e.Q6J("ngForOf",s.agendamentos),e.xp6(1),e.Q6J("ngIf",0==s.agendamentos.length),e.xp6(2),e.Q6J("ngForOf",s.apontamentos),e.xp6(1),e.Q6J("ngIf",0==s.apontamentos.length))},directives:[r.O5,r.sg,T.Ye,C.hX,_.gM],pipes:[r.uU,A.X,p.r],styles:[""]}),d})()},7094:(m,i,o)=>{o.d(i,{H:()=>C});var t=o(7716),l=o(8583),r=o(1769),h=o(8295),e=o(1436),u=o(1790);function n(_,A){1&_&&t._UZ(0,"mat-divider")}function c(_,A){if(1&_){const p=t.EpF();t.TgZ(0,"div",3),t.TgZ(1,"mat-label",4),t.NdJ("click",function(){return t.CHM(p),t.oxw(2).onClickPlanejado()}),t._uU(2),t.ALo(3,"horaSexagenal"),t.qZA(),t.TgZ(4,"mat-label",5),t.NdJ("click",function(){return t.CHM(p),t.oxw(2).onClickExecutado()}),t._uU(5),t.ALo(6,"horaSexagenal"),t.qZA(),t.qZA()}if(2&_){const p=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,p.Celula.horasplanejadas)),t.xp6(3),t.Oqu(t.lcZ(6,4,p.Celula.horasexecutadas))}}function T(_,A){if(1&_){const p=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div"),t.TgZ(2,"label",1),t.NdJ("click",function(){return t.CHM(p),t.oxw().onClickDia()}),t._uU(3),t.qZA(),t.qZA(),t.YNc(4,n,1,0,"mat-divider",0),t.YNc(5,c,7,6,"div",2),t.qZA()}if(2&_){const p=t.oxw();t.xp6(2),t.Q6J("ngClass",p.getClasse()),t.xp6(1),t.Oqu(p.Celula.dia),t.xp6(1),t.Q6J("ngIf",1==p.Celula.tipo),t.xp6(1),t.Q6J("ngIf",1==p.Celula.tipo)}}let C=(()=>{class _{constructor(){this.changeDay=new t.vpe}ngOnInit(){}getClasse(){return 3==this.Celula.tipo?"formata-dia-semana_3":"formata-dia-semana_1"}onClickDia(){this.changeDay.emit(this.Celula)}onClickPlanejado(){}onClickExecutado(){}show(){return 1!=this.Celula.tipo||this.Celula.horasexecutadas+this.Celula.horasplanejadas>0}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-cel-calendar"]],inputs:{Celula:["celula","Celula"]},outputs:{changeDay:"onClickDay"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngClass","click"],["div","","class","col-med-2",4,"ngIf"],["div","",1,"col-med-2"],["matTooltip","Horas Planejadas","matTooltipPosition","above",1,"cor-planejada",3,"click"],["matTooltip","Horas Executadas","matTooltipPosition","above",1,"cor-executada",3,"click"]],template:function(p,v){1&p&&t.YNc(0,T,6,4,"div",0),2&p&&t.Q6J("ngIf",v.show())},directives:[l.O5,l.mk,r.d,h.hX,e.gM],pipes:[u.X],styles:[".format-dia-semana[_ngcontent-%COMP%]{color:#000;cursor:pointer}.formata-dia-semana_1[_ngcontent-%COMP%]{color:#000;cursor:pointer}.formata-dia-semana_2[_ngcontent-%COMP%]{color:#ff0;cursor:pointer}.formata-dia-semana_3[_ngcontent-%COMP%]{color:gray;cursor:pointer}.cor-planejada[_ngcontent-%COMP%]{color:green;cursor:pointer}.cor-executada[_ngcontent-%COMP%]{color:red;cursor:pointer}"]}),_})()},1790:(m,i,o)=>{o.d(i,{X:()=>l});var t=o(7716);let l=(()=>{class r{transform(e){let u=Number(e).toFixed(2),n=u.substring(0,u.indexOf(".")),c=u.substring(u.indexOf(".")+1);return c="00"+(Number.parseInt(c)/1.67).toFixed(0).trim(),c=c.substring(c.length-2),c.length<2&&(c="0"+c),n+":"+c}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275pipe=t.Yjl({name:"horaSexagenal",type:r,pure:!0}),r})()},1554:(m,i,o)=>{o.d(i,{r:()=>l});var t=o(7716);let l=(()=>{class r{transform(e){let u="N\xe3o";return u="S"==e?"Sim":"N\xe3o",u}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275pipe=t.Yjl({name:"simNao",type:r,pure:!0}),r})()}}]);